(this["webpackJsonp@logossim/page"]=this["webpackJsonp@logossim/page"]||[]).push([[0],{266:function(e,t,n){e.exports=function(){return new Worker(n.p+"SimulationWorker.a337eedeea443fff512c.js")}},270:function(e){e.exports=JSON.parse('{"a":"0.0.1"}')},273:function(e,t,n){e.exports=n.p+"static/media/bifurcation.e3ec32b9.gif"},274:function(e,t,n){e.exports=n.p+"static/media/context-menu.94343183.gif"},275:function(e,t,n){e.exports=n.p+"static/media/simulation.2d0f910c.gif"},276:function(e,t,n){e.exports=n.p+"static/media/wire.e7e521da.gif"},278:function(e,t,n){e.exports=n(527)},525:function(e,t,n){},527:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(34),o=n.n(r),c=n(43),l=n.n(c),u=n(72),s=n(26),d=n(6),f=n(12),p=n(10),m=n(11),g=n(55),h=n(25),v=n(14),b=n(17),y=n(18),E=n(16),k=n(29),O=n.n(k),x=n(32),P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return e instanceof E.Point?new E.Point(Math.round(e.x/t)*t,Math.round(e.y/t)*t):Math.round(e/t)*t},j=function(e,t){return e&&t&&Math.round(e.x)===Math.round(t.x)&&Math.round(e.y)===Math.round(t.y)},w=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return Math.round(e.x)})).every((function(e,t,n){return e===n[0]}))},S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return Math.round(e.y)})).every((function(e,t,n){return e===n[0]}))},C=function(){return w.apply(void 0,arguments)||S.apply(void 0,arguments)},M=function(e,t){var n=function(e,t){return Math.hypot(e.x-t.x,e.y-t.y)},i=function(e,t){var i=t.A,a=t.B,r=new E.Point(a.x-i.x,a.y-i.y),o=new E.Point(i.x-e.x,i.y-e.y),c=-(r.x*o.x+r.y*o.y)/(Math.pow(r.x,2)+Math.pow(r.y,2));if(c>=0&&c<=1){var l=new E.Point((1-c)*i.x+c*a.x,(1-c)*i.y+c*a.y);return{point:l,distance:n(e,l)}}var u=n(e,i),s=n(e,a);return u<=s?{point:i,distance:u}:{point:a,distance:s}};if(!t.hasMiddlePoint())return i(e,{A:t.getFirstPosition(),B:t.getLastPosition()}).point;var a=i(e,{A:t.getFirstPosition(),B:t.getMiddlePosition()}),r=i(e,{A:t.getMiddlePosition(),B:t.getLastPosition()});return a.distance<=r.distance?a.point:r.point},L=function(e,t){var n=t.A,i=t.B;if(w(n,e,i)){var a=Math.max(n.y,i.y);return Math.min(n.y,i.y)<=e.y&&e.y<=a}if(S(n,e,i)){var r=Math.max(n.x,i.x);return Math.min(n.x,i.x)<=e.x&&e.x<=r}return!1},z=function(e,t){return function(e,t){return L(e,{A:t.getFirstPosition(),B:t.getSecondPosition()})}(e,t)||function(e,t){return!!t.hasMiddlePoint()&&L(e,{A:t.getSecondPosition(),B:t.getLastPosition()})}(e,t)},T=function(e,t){var n=e.getLastPoint().getPosition();return Object.values(t.getModel().getLinkLayers()[0].getLinks()).find((function(t){return t.getID()!==e.getID()&&z(n,t)}))},I=n(47),B=function(e){return null===e||0===e||1===e},D=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,Object(v.a)({type:"link"},e))).bifurcations=[],i.bifurcationSource=null,i.bifurcationTarget=null,i.value=null,i}return Object(f.a)(n,[{key:"addLabel",value:function(e){if(e instanceof k.LabelModel)return Object(y.a)(Object(b.a)(n.prototype),"addLabel",this).call(this,e);var t=new x.DefaultLabelModel;return t.setLabel(e),Object(y.a)(Object(b.a)(n.prototype),"addLabel",this).call(this,t)}},{key:"setBifurcationSource",value:function(e){this.bifurcationSource=e}},{key:"getBifurcationSource",value:function(){return this.bifurcationSource}},{key:"setBifurcationTarget",value:function(e){this.bifurcationTarget=e}},{key:"getBifurcationTarget",value:function(){return this.bifurcationTarget}},{key:"isBifurcation",value:function(){return!(!this.getBifurcationSource()&&!this.getBifurcationTarget())}},{key:"addBifurcation",value:function(e){this.bifurcations.find((function(t){return t.getID()===e.getID()}))||this.bifurcations.push(e)}},{key:"removeBifurcation",value:function(e){this.bifurcations=this.bifurcations.filter((function(t){return t.getID()!==e.getID()}))}},{key:"getBifurcations",value:function(){return this.bifurcations}},{key:"getAllBifurcations",value:function(){var e=Object(h.a)(this.bifurcations);return this.bifurcations.forEach((function(t){return e.push(t.getAllBifurcations())})),e.flat(1/0)}},{key:"getSelectionEntities",value:function(){return[].concat(Object(h.a)(Object(y.a)(Object(b.a)(n.prototype),"getSelectionEntities",this).call(this)),Object(h.a)(this.bifurcations))}},{key:"setSelected",value:function(e){Object(y.a)(Object(b.a)(n.prototype),"setSelected",this).call(this,e),this.bifurcations.forEach((function(t){return t.setSelected(e)})),this.getSourcePort()&&this.getSourcePort().setSelected(e),this.getTargetPort()&&this.getTargetPort().setSelected(e)}},{key:"remove",value:function(){this.bifurcations.forEach((function(e){return e.remove()})),this.bifurcationSource&&this.bifurcationSource.removeBifurcation(this),this.bifurcationTarget&&this.bifurcationTarget.removeBifurcation(this),Object(y.a)(Object(b.a)(n.prototype),"remove",this).call(this)}},{key:"serialize",value:function(){return Object(v.a)({},Object(y.a)(Object(b.a)(n.prototype),"serialize",this).call(this),{bifurcations:this.bifurcations.map((function(e){return e.getID()})),bifurcationSource:this.bifurcationSource?this.bifurcationSource.getID():null,bifurcationTarget:this.bifurcationTarget?this.bifurcationTarget.getID():null,value:this.value})}},{key:"deserialize",value:function(e){var t=this;Object(y.a)(Object(b.a)(n.prototype),"deserialize",this).call(this,e);var i=e.getModel,a=e.registerModel,r=e.data,o=r.bifurcationSource,c=r.bifurcationTarget,l=r.bifurcations;a(this),requestAnimationFrame((function(){t.points=e.data.points.map((function(e){return new k.PointModel({link:t,position:new E.Point(e.x,e.y)})})),l.forEach((function(e){return i(e).then((function(e){return t.addBifurcation(e)}))})),o&&i(o).then((function(e){return t.setBifurcationSource(e)})),c&&i(c).then((function(e){return t.setBifurcationTarget(e)})),e.engine.repaintCanvas()}))}},{key:"addPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(y.a)(Object(b.a)(n.prototype),"addPoint",this).call(this,e,t),e}},{key:"getMiddlePoint",value:function(){return this.hasMiddlePoint()?this.getPoints()[1]:null}},{key:"getSecondPoint",value:function(){return this.getPoints()[1]}},{key:"getSecondLastPoint",value:function(){var e=this.getPoints();return e[e.length-2]}},{key:"getFirstPosition",value:function(){return this.getFirstPoint().getPosition()}},{key:"getSecondPosition",value:function(){return this.getSecondPoint().getPosition()}},{key:"getMiddlePosition",value:function(){return this.hasMiddlePoint()?this.getMiddlePoint().getPosition():null}},{key:"getSecondLastPosition",value:function(){return this.getSecondLastPoint().getPosition()}},{key:"getLastPosition",value:function(){return this.getLastPoint().getPosition()}},{key:"hasMiddlePoint",value:function(){return 3===this.getPoints().length}},{key:"isStraight",value:function(){if(!this.hasMiddlePoint())return!0;var e=this.getFirstPosition(),t=this.getMiddlePosition(),n=this.getLastPosition();return!!C(e,t,n)}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}},{key:"getColor",value:function(){return this.isSelected()?"var(--link-selected)":B(this.value)?1===this.value?"var(--value-on)":0===this.value?"var(--value-off)":"var(--link-unselected)":"var(--value-error)"}}]),n}(k.LinkModel),A=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(this,n),(e=t.call(this,Object(v.a)({type:"Port",maximumLinks:1},i))).value=null,e.input=null,e}return Object(f.a)(n,[{key:"serialize",value:function(){return Object(v.a)({},Object(y.a)(Object(b.a)(n.prototype),"serialize",this).call(this),{input:this.input,value:this.value})}},{key:"deserialize",value:function(e,t){Object(y.a)(Object(b.a)(n.prototype),"deserialize",this).call(this,e,t),this.value=e.data.value,this.input=e.data.input}},{key:"setAsInput",value:function(){this.input=!0}},{key:"setAsOutput",value:function(){this.input=!1}},{key:"isInput",value:function(){return!0===this.input}},{key:"isOutput",value:function(){return!1===this.input}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}},{key:"isNewLinkAllowed",value:function(){return Object.keys(this.getLinks()).length<this.getMaximumLinks()}},{key:"canLinkToPort",value:function(e){return e.isNewLinkAllowed()&&this.getID()!==e.getID()}},{key:"createLinkModel",value:function(){return this.isNewLinkAllowed()?new D:null}},{key:"getMainLink",value:function(){var e=Object.values(this.getLinks());return e.length>0?e[0]:null}},{key:"getColor",value:function(){if(null===this.value){var e=this.getMainLink();return e?e.getColor():"var(--port-unconnected)"}return B(this.value)?1===this.value?"var(--value-on)":0===this.value?"var(--value-off)":"none":"var(--value-error)"}}]),n}(k.PortModel),N=function(e){return e.map((function(e){return{id:e.getID(),type:e.getType(),configurations:e.configurations,ports:(n=e.ports,Object.values(n).map((function(e){return{id:e.getID(),name:e.getName(),input:e.isInput()}}))),properties:(t=e,Object.keys(t).filter((function(e){return!["listeners","options","position","ports","width","height","configurations","parent"].includes(e)}))).reduce((function(t,n){return Object(v.a)({},t,Object(I.a)({},n,e[n]))}),{})};var t,n}))},R=function(e){return e?{componentId:e.getParent().getID(),name:e.getName(),input:e.isInput()}:null},H=function(e){return e?e.getID():null},F=function(e,t){return{models:(i=t,i.map((function(e){var t,n=e.type,i=e.Model;return{type:n,methods:(t=i,Object.getOwnPropertyNames(t.prototype).filter((function(e){return!["constructor"].includes(e)}))).reduce((function(e,t){return Object(v.a)({},e,Object(I.a)({},t,i.prototype[t].toString()))}),{})}}))),links:(n=Object.values(e.layers[0].models),n.map((function(e){return{id:e.getID(),source:R(e.getSourcePort()),target:R(e.getTargetPort()),bifurcations:e.getBifurcations().map((function(e){return e.getID()})),bifurcation:{source:H(e.getBifurcationSource()),target:H(e.getBifurcationTarget())},isBifurcation:e.isBifurcation()}}))),components:N(Object.values(e.layers[1].models))};var n,i},U=n(266),W=new(n.n(U).a),_=function(){function e(t){var n=this;Object(d.a)(this,e),this.onSimulationMessage=function(e){var t=e.data,i=t.type,a=t.diff;"diff"===i&&n.appendDiff(a)},this.components=t,this.worker=W,this.worker.addEventListener("message",this.onSimulationMessage),this.state="stopped",this.clearDiff()}return Object(f.a)(e,[{key:"start",value:function(e){this.worker.postMessage({command:"start",diagram:"stopped"===this.state?F(e,this.components):void 0}),this.state="started"}},{key:"pause",value:function(){this.worker.postMessage({command:"pause"}),this.state="paused"}},{key:"stop",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.worker.addEventListener("message",(function n(i){"clear"===i.data.type&&(t.worker.removeEventListener("message",n),t.state="stopped",e())})),t.worker.postMessage({command:"stop"})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getState",value:function(){return this.state}},{key:"isRunning",value:function(){return"started"===this.state}},{key:"isPaused",value:function(){return"paused"===this.state}},{key:"isStopped",value:function(){return"stopped"===this.state}},{key:"getDiff",value:function(){return this.diff}},{key:"clearDiff",value:function(){this.diff={components:{},links:{}}}},{key:"appendDiff",value:function(e){this.diff={components:Object(v.a)({},this.diff.components,{},e.components),links:Object(v.a)({},this.diff.links,{},e.links)}}}]),e}(),K=function(e){return e instanceof A?e:new A({name:e})},X=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e,i){var a;return Object(d.a)(this,n),(a=t.call(this,{type:e})).initialize(i),a.configurations=i,a}return Object(f.a)(n,[{key:"serialize",value:function(){return Object(v.a)({},Object(y.a)(Object(b.a)(n.prototype),"serialize",this).call(this),{configurations:this.configurations})}},{key:"addInputPort",value:function(e){var t=K(e);t.setAsInput(),Object(y.a)(Object(b.a)(n.prototype),"addPort",this).call(this,t)}},{key:"addOutputPort",value:function(e){var t=K(e);t.setAsOutput(),Object(y.a)(Object(b.a)(n.prototype),"addPort",this).call(this,t)}},{key:"addPort",value:function(e){var t=K(e);if(t.isInput())this.addInputPort(t);else{if(!t.isOutput())throw new Error("[logossim] Use either `addInputPort` or `addOutputPort`");this.addOutputPort(t)}}},{key:"removePort",value:function(e){var t=K(e);Object(y.a)(Object(b.a)(n.prototype),"removePort",this).call(this,t)}},{key:"getInputPorts",value:function(){return Object.fromEntries(Object.entries(this.getPorts()).filter((function(e){return Object(s.a)(e,2)[1].isInput()})))}},{key:"getOutputPorts",value:function(){return Object.fromEntries(Object.entries(this.getPorts()).filter((function(e){return!Object(s.a)(e,2)[1].isInput()})))}},{key:"getAllLinks",value:function(){return Object.values(this.getPorts()).map((function(e){return e.getMainLink()})).filter((function(e){return!!e})).reduce((function(e,t){return[].concat(Object(h.a)(e),[t],Object(h.a)(t.getAllBifurcations()))}),[])}},{key:"clone",value:function(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var r=(e=Object(y.a)(Object(b.a)(n.prototype),"clone",this)).call.apply(e,[this].concat(i));return r.setPosition(new E.Point(this.getX()+15,this.getY()+15)),r}},{key:"initialize",value:function(){}},{key:"onSimulationStart",value:function(){}},{key:"onSimulationPause",value:function(){}},{key:"onSimulationStop",value:function(){}},{key:"step",value:function(){}},{key:"emit",value:function(e){!function(e,t){W.postMessage({command:"emit",emitted:{from:e,value:t}})}(this.getID(),e)}}]),n}(k.NodeModel),Y=n(19),V=n(5),Z=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var i,a=e.type,r=e.name,o=e.description,c=e.group,l=e.configurations,u=void 0===l?[]:l,s=e.model,f=e.widget,p=e.icon;return Object(d.a)(this,n),(i=t.call(this,a)).name=r,i.description=o,i.group=c,i.configurations=u,i.Model=s,i.Widget=f,i.Icon=p,i}return Object(f.a)(n,[{key:"generateReactWidget",value:function(e){var t=this.Widget,n=e.model;return a.a.createElement(Y.MenuProvider,{id:"component",storeRef:!1,data:n},a.a.createElement(t,{engine:this.engine,model:n}))}},{key:"generateModel",value:function(e){var t=this.Model,n=e.initialConfig;return new t(n.type,n.configurations)}}]),n}(V.AbstractReactFactory),G=n(1),J=n(2),q=n(277);function Q(){var e=Object(G.a)(["\n  width: 100vw;\n  height: 100vh;\n"]);return Q=function(){return e},e}var $=J.a.div.attrs((function(e){var t=e.disabled,n=Object(q.a)(e,["disabled"]);return Object(v.a)({},n,{onDragOver:function(e){return e.preventDefault()},onDrop:function(e){if(!t){var i=JSON.parse(e.dataTransfer.getData("component"));n.handleComponentDrop(e,i)}}})}))(Q());function ee(){var e=Object(G.a)(["\n  height: 100%;\n  width: 100%;\n"]);return ee=function(){return e},e}var te=Object(J.a)(V.CanvasWidget)(ee()),ne=function(e){var t=e.engine;return a.a.createElement(Y.MenuProvider,{id:"diagram",storeRef:!1,data:{test:1}},a.a.createElement($,{handleComponentDrop:function(){return t.handleComponentDrop.apply(t,arguments)},disabled:t.isLocked()},a.a.createElement(te,{engine:t.getEngine()})))},ie=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).refPaths=[],i}return Object(f.a)(n,[{key:"componentDidUpdate",value:function(){this.updateRenderedPaths()}},{key:"componentDidMount",value:function(){this.updateRenderedPaths()}},{key:"componentWillUnmount",value:function(){this.clearRenderedPaths()}},{key:"updateRenderedPaths",value:function(){this.props.link.setRenderedPaths(this.refPaths.map((function(e){return e.current})))}},{key:"clearRenderedPaths",value:function(){this.props.link.setRenderedPaths([])}},{key:"generatePathPoints",value:function(){var e=this.props.link.getPoints();return e.map((function(t,n){return{from:e[n],to:e[n+1]}})).filter((function(e){return e.to}))}},{key:"generateLinePath",value:function(e){var t=e.from,n=e.to;return"M".concat(t.getX(),",").concat(t.getY()," L ").concat(n.getX(),",").concat(n.getY())}},{key:"renderSegment",value:function(e,t){var n=this.props,i=n.diagramEngine,r=n.link,o=n.factory,c=n.options,l=(void 0===c?{}:c).selected,u=a.a.createRef();return this.refPaths.push(u),a.a.createElement(x.DefaultLinkSegmentWidget,{key:"link-".concat(t),path:e,selected:l,diagramEngine:i,factory:o,link:r,forwardRef:u,onSelection:function(){}})}},{key:"renderPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.link,i=n.getColor();return a.a.createElement("circle",{r:5,fill:t?"var(--background)":i,stroke:t?i:"none",strokeWidth:"var(--link-width)",cx:e.x,cy:e.y})}},{key:"renderBifurcationSourcePoint",value:function(){var e=this.props.link,t=e.getBifurcationSource();if(!t)return null;var n=e.getFirstPoint().getPosition(),i=t.getLastPoint().getPosition();return j(n,i)?null:this.renderPoint(n)}},{key:"renderBifurcationTargetPoint",value:function(){var e=this.props.link,t=e.getBifurcationTarget();if(!t)return null;var n=e.getLastPoint().getPosition(),i=t.getLastPoint().getPosition();return j(n,i)?null:this.renderPoint(n)}},{key:"renderLooseLinkPoint",value:function(){var e=this.props.link;if(e.getTargetPort())return null;if(e.getBifurcationTarget())return null;var t=e.getBifurcations(),n=e.getLastPoint().getPosition();return t.some((function(e){return j(e.getFirstPosition(),n)||j(e.getLastPosition(),n)}))?null:this.renderPoint(n,!0)}},{key:"render",value:function(){var e=this,t=this.props.link;return this.refPaths=[],a.a.createElement(a.a.Fragment,null,a.a.createElement("g",{"data-default-link-test":t.getOptions().testName},this.generatePathPoints().map((function(t,n){return e.renderSegment(e.generateLinePath(t),n)}))),this.renderBifurcationSourcePoint(),this.renderBifurcationTargetPoint(),this.renderLooseLinkPoint())}}]),n}(i.Component);function ae(){var e=Object(G.a)(["\n  pointer-events: all;\n"]);return ae=function(){return e},e}var re=J.a.path(ae()),oe=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.call(this,"link")}return Object(f.a)(n,[{key:"generateModel",value:function(){return new D}},{key:"generateReactWidget",value:function(e){return a.a.createElement(ie,{diagramEngine:this.engine,link:e.model,factory:this})}},{key:"generateLinkSegment",value:function(e,t,n){return a.a.createElement(re,{stroke:e.getColor(),strokeWidth:"var(--link-width)",d:n})}}]),n}(x.DefaultLinkFactory),ce=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.call(this,"Port")}return Object(f.a)(n,[{key:"generateModel",value:function(){return new A}}]),n}(V.AbstractModelFactory),le=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,{type:V.InputType.KEY_DOWN,fire:function(t){var n=t.event;if(e()&&!i.engine.getModel().isLocked()&&i.matchesInput(n)){n.preventDefault();var a=n.code;"KeyX"===a&&i.handleCut(),"KeyC"===a&&i.handleCopy(),"KeyV"===a&&i.handlePaste()}}})).matchesInput=function(e){var t=e.ctrlKey,n=e.code;return t&&("KeyX"===n||"KeyC"===n||"KeyV"===n)},i.getSelectedComponents=function(){return i.engine.getModel().getSelectedEntities().filter((function(e){return e instanceof X})).filter((function(e){return!e.isLocked()}))},i.handleCut=function(){var e=i.getSelectedComponents(),t=e.map((function(e){return e.clone().serialize()}));i.engine.fireEvent({nodes:e,links:e.reduce((function(e,t){return[].concat(Object(h.a)(e),Object(h.a)(t.getAllLinks()))}),[])},"entitiesRemoved"),e.forEach((function(e){return e.remove()})),i.engine.repaintCanvas(),localStorage.setItem("clipboard",JSON.stringify(t))},i.handleCopy=function(){var e=i.getSelectedComponents().map((function(e){return e.clone().serialize()}));localStorage.setItem("clipboard",JSON.stringify(e))},i.handlePaste=function(){var e=i.engine.getModel(),t=JSON.parse(localStorage.getItem("clipboard"));if(t){e.clearSelection();var n=t.map((function(t){var n=e.getActiveNodeLayer().getChildModelFactoryBank(i.engine).getFactory(t.type).generateModel({initialConfig:t});return n.deserialize({engine:i.engine,data:t,registerModel:function(){}}),n}));n.forEach((function(t){e.addNode(t),t.setSelected(!0)})),localStorage.setItem("clipboard",JSON.stringify(n.map((function(e){return e.clone().serialize()})))),i.engine.fireEvent({nodes:n},"componentsAdded"),i.engine.repaintCanvas()}},i}return n}(V.Action),ue=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,{type:V.InputType.KEY_DOWN,fire:function(t){var n=t.event;e()&&(i.engine.getModel().isLocked()||i.matchesInput(n)&&(n.preventDefault(),i.handleAction()))}})).matchesInput=function(e){return"Delete"===e.code},i.handleAction=function(){var e=i.engine.getModel().getSelectedEntities().filter((function(e){return!e.isLocked()}));i.fireEvent(e),e.forEach((function(e){return e.remove()})),i.engine.repaintCanvas()},i.fireEvent=function(e){var t=e.filter((function(e){return e instanceof X})),n=e.filter((function(e){return e instanceof D})),a=t.reduce((function(e,t){return[].concat(Object(h.a)(e),Object(h.a)(t.getAllLinks()))}),[]);i.engine.fireEvent({nodes:t,links:[].concat(Object(h.a)(a),Object(h.a)(n))},"entitiesRemoved")},i}return n}(V.Action),se=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,{type:V.InputType.KEY_DOWN,fire:function(t){var n=t.event;e()&&(i.engine.getModel().isLocked()||i.matchesInput(n)&&(n.preventDefault(),i.handleAction()))}})).matchesInput=function(e){return e.ctrlKey&&"KeyD"===e.code},i.handleAction=function(){var e=i.engine.getModel(),t=e.getSelectedEntities().filter((function(e){return e instanceof X})).filter((function(e){return!e.isLocked()})).map((function(e){return e.clone()}));e.clearSelection(),t.forEach((function(t){e.addNode(t),t.setSelected(!0)})),i.engine.fireEvent({nodes:t},"componentsAdded"),i.engine.repaintCanvas()},i}return n}(V.Action),de=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,{type:V.InputType.KEY_DOWN,fire:function(t){var n=t.event;if(e()&&!i.engine.getModel().isLocked()&&i.matchesInput(n)){n.preventDefault();var a=n.ctrlKey,r=n.shiftKey,o=n.code;a&&!r&&"KeyZ"===o?i.handleUndo():i.handleRedo()}}})).matchesInput=function(e){var t=e.ctrlKey,n=e.shiftKey,i=e.code;return t&&("KeyZ"===i||"KeyY"===i)||t&&n&&"KeyZ"===i},i.handleUndo=function(){i.engine.commands.undo(),i.engine.repaintCanvas()},i.handleRedo=function(){i.engine.commands.redo(),i.engine.repaintCanvas()},i}return n}(V.Action),fe=[15,25,50,75,100,150,200,300],pe=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),e=t.call(this,{type:V.InputType.MOUSE_WHEEL,fire:function(t){var n=t.event;n.stopPropagation();var i=e.engine.getModel();i.getLayers().forEach((function(e){return e.allowRepaint(!1)}));var a,r=Math.sign(n.deltaY)>0?"in":"out",o=fe.indexOf(fe.includes(i.getZoomLevel())?i.getZoomLevel():100);a="in"===r?Math.min(o+1,fe.length-1):Math.max(o-1,0);var c=i.getZoomLevel()/100;i.setZoomLevel(fe[a]);var l=i.getZoomLevel()/100,u=e.engine.getCanvas().getBoundingClientRect(),s=u.width,d=u.height,f=s*l-s*c,p=d*l-d*c,m=n.clientX-u.left,g=n.clientY-u.top,h=(m-i.getOffsetX())/c/s,v=(g-i.getOffsetY())/c/d;i.setOffset(i.getOffsetX()-f*h,i.getOffsetY()-p*v),e.engine.repaintCanvas(),i.getLayers().forEach((function(e){return e.allowRepaint(!0)}))}})}return n}(V.Action),me=function(e){var t=e.engine,n=e.editComponentConfiguration,i=function(e){var n=e.getSourcePort();n&&(n=t.getModel().getNode(e.getSourcePort().getParent().getID()).getPort(n.getName()),e.setSourcePort(n),n.addLink(e));var i=e.getTargetPort();i&&(i=t.getModel().getNode(e.getTargetPort().getParent().getID()).getPort(i.getName()),e.setTargetPort(i),i.addLink(e));return e.getBifurcationSource()&&e.getBifurcationSource().addBifurcation(e),e.getBifurcationTarget()&&e.getBifurcationTarget().addBifurcation(e),e};return{componentsAdded:function(e){var n=e.nodes;t.commands.add({execute:function(){n.forEach((function(e){return t.getModel().addNode(e)}))},undo:function(){n.forEach((function(e){return e.remove()}))}})},componentEdited:function(e){var a=e.node,r=e.configurations,o=e.links;t.commands.add({execute:function(){n(a,r.after)},undo:function(){n(a,r.before),o.before.forEach((function(e){return t.getModel().addLink(i(e))}))}})},linkAdded:function(e){var n=e.link;t.commands.add({execute:function(){t.getModel().addLink(i(n))},undo:function(){n.remove()}})},linkChanged:function(e){var n=e.before,i=e.after,a=function(e,n){var i=t.getModel().getLink(e.id);if(i.setPoints(e.points.map((function(e){var t=new k.PointModel({link:i});return t.setPosition(e),t}))),e.bifurcationTarget){var a=t.getModel().getLink(e.bifurcationTarget);i.setBifurcationTarget(a),a.addBifurcation(i)}else if(n.bifurcationTarget){var r=t.getModel().getLink(n.bifurcationTarget);i.setBifurcationTarget(null),r.removeBifurcation(i)}};t.commands.add({execute:function(){a(i,n)},undo:function(){a(n,i)}})},entitiesRemoved:function(e){var n=e.nodes,a=e.links;t.commands.add({execute:function(){n.forEach((function(e){return e.remove()})),a.forEach((function(e){return e.remove()}))},undo:function(){a.map(i).sort((function(e,t){return e.getBifurcationSource()===t||e.getBifurcationTarget()===t?1:t.getBifurcationSource()===e||t.getBifurcationTarget()===e?-1:0})).forEach((function(e){return t.getModel().addLink(i(e))})),n.forEach((function(e){return t.getModel().addNode(e)}))}})},entitiesMoved:function(e){var n=e.nodes,i=e.links,a=function(e){n[e].forEach((function(e){var n=e.id,i=e.position;t.getModel().getNode(n).setPosition(i.x,i.y)})),i[e].forEach((function(e){var n=e.id,i=e.points,a=t.getModel().getLink(n);a.setPoints(i.map((function(e){var t=new k.PointModel({link:a});return t.setPosition(e),t})))}))};t.commands.add({execute:function(){a("after")},undo:function(){a("before")}})}}},ge=function(){function e(t,n){Object(d.a)(this,e),this.execute=t,this.undo=n}return Object(f.a)(e,[{key:"execute",value:function(e){this.execute(e)}},{key:"undo",value:function(e){this.undo(e)}}]),e}(),he=function(){function e(){Object(d.a)(this,e),this.clear()}return Object(f.a)(e,[{key:"clear",value:function(){this.stack=[],this.index=0}},{key:"add",value:function(e){var t=e.execute,n=e.undo,i=new ge(t,n);this.stack.length=this.index,this.stack.push(i),this.index+=1}},{key:"undo",value:function(){this.index>0&&(this.index-=1,this.stack[this.index].undo())}},{key:"redo",value:function(){this.index<this.stack.length&&(this.stack[this.index].execute(),this.index+=1)}}]),e}(),ve=n(22),be=function(e,t,n,i){var a=function(e,t){var n=t.getZoomLevel()/100,i=t.getOffsetX()/n,a=t.getOffsetY()/n;return new E.Point(e.x-i,e.y-a)}(i,t),r=t.getZoomLevel()/100,o=n.x/r,c=n.y/r,l=a.x+(o-i.x)+e.virtualDisplacementX,u=a.y+(c-i.y)+e.virtualDisplacementY;return P(new E.Point(l,u),t.options.gridSize)};function ye(e,t){var n=t.getFirstPosition(),i=t.getLastPosition(),a=be(e,this.engine.getModel(),{x:this.initialXRelative,y:this.initialYRelative},n);if(!this.hasStartedMoving&&j(n,i)&&(this.hasStartedMoving=!0),this.hasStartedMoving)if(t.hasMiddlePoint()){var r=t.getMiddlePosition();j(r,i)?t.removePoint(t.getMiddlePoint()):j(n,r)?(t.removePoint(t.getMiddlePoint()),this.moveDirection="horizontal"===this.moveDirection?"vertical":"horizontal"):"horizontal"===this.moveDirection?i.x!==a.x&&t.getMiddlePoint().setPosition(a.x,n.y):"vertical"===this.moveDirection&&i.y!==a.y&&t.getMiddlePoint().setPosition(n.x,a.y)}else i.x!==a.x?(this.moveDirection||(this.moveDirection="horizontal"),"vertical"===this.moveDirection&&t.addPoint(t.generatePoint(i.x,a.y),1)):i.y!==a.y&&(this.moveDirection||(this.moveDirection="vertical"),"horizontal"===this.moveDirection&&t.addPoint(t.generatePoint(a.x,i.y),1));t.hasMiddlePoint()||n.x===a.x||n.y===a.y||(j(n,i)||"horizontal"===this.moveDirection?t.addPoint(t.generatePoint(a.x,n.y),1):t.addPoint(t.generatePoint(n.x,a.y),1)),t.getLastPoint().setPosition(a.x,a.y),this.engine.repaintCanvas()}var Ee=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this,{name:"bifurcate-link"})).fireEvent=function(){e.sourceEdited?e.engine.fireEvent({before:e.sourceBefore,after:e.getLinkPoints(e.source)},"linkChanged"):e.engine.fireEvent({link:e.bifurcation},"linkAdded")},e.registerAction(new V.Action({type:V.InputType.MOUSE_DOWN,fire:function(t){e.moveDirection=void 0,e.hasStartedMoving=!1,e.source=e.engine.getMouseElement(t.event),e.sourceBefore=e.getLinkPoints(e.source),e.sourceEdited=!1;var n=e.snapPointToSourceLink(e.engine.getRelativeMousePoint(t.event),e.source);e.source.isLocked()?e.eject():(e.bifurcation=e.engine.getLinkFactories().getFactory(e.source.getType()).generateModel(),e.bifurcation?(e.bifurcation.setBifurcationSource(e.source),e.bifurcation.getFirstPoint().setPosition(n),e.bifurcation.getLastPoint().setPosition(n),e.bifurcation.setSelected(!0),e.engine.getModel().clearSelection(),e.source.setSelected(!1),e.source.addBifurcation(e.bifurcation),e.engine.getModel().addLink(e.bifurcation)):e.eject())}})),e.registerAction(new V.Action({type:V.InputType.MOUSE_UP,fire:function(t){if(e.isNearbySourcePosition())return e.cleanUp(),e.engine.getModel().clearSelection(),e.source.setSelected(!0),void e.engine.repaintCanvas();var n=e.engine.getMouseElement(t.event);if(n instanceof ve.NodeModel)return e.cleanUp(),void e.engine.repaintCanvas();if(n instanceof ve.PortModel&&n.isNewLinkAllowed())return e.bifurcation.setTargetPort(n),n.reportPosition(),e.adjustBifurcationOverlayingSource(e.bifurcation),e.engine.repaintCanvas(),void e.fireEvent();var i=T(e.bifurcation,e.engine);i&&(e.bifurcation.setBifurcationTarget(i),i.addBifurcation(e.bifurcation),i.setSelected(!0)),e.mergeWithBifurcation(e.bifurcation.getBifurcationSource()),e.adjustBifurcationOverlayingSource(e.bifurcation),e.fireEvent()}})),e}return Object(f.a)(n,[{key:"getLinkPoints",value:function(e){return{id:e.getID(),points:e.getPoints().map((function(e){return e.getPosition()})),bifurcationTarget:e.getBifurcationTarget()?e.getBifurcationTarget().getID():null}}},{key:"cleanUp",value:function(){this.source.removeBifurcation(this.bifurcation),this.bifurcation.remove()}},{key:"snapPointToSourceLink",value:function(e,t){var n=this.engine.getModel().getOptions().gridSize,i=t.getPoints(),a=this.getClosestCornerToPosition(i,e);if(a.distance<n-1)return new E.Point(a.position.x,a.position.y);var r=this.getClosestPathToPosition(i,e),o=P(e,n);return new E.Point("x"===r.axis?r.position:o.x,"y"===r.axis?r.position:o.y)}},{key:"getClosestCornerToPosition",value:function(e,t){return e.map((function(e){return Object(v.a)({distance:Math.hypot(t.x-e.position.x,t.y-e.position.y)},e)})).reduce((function(e,t){return t.distance<e.distance?t:e}))}},{key:"getPathPoints",value:function(e){return e.map((function(t,n){return{from:e[n],to:e[n+1]}})).filter((function(e){return e.to}))}},{key:"getPathDirections",value:function(e){return this.getPathPoints(e).map((function(e){return w(e.from.position,e.to.position)?{axis:"x",position:e.from.position.x}:{axis:"y",position:e.from.position.y}}))}},{key:"getClosestPathToPosition",value:function(e,t){return this.getPathDirections(e).map((function(e){return Object(v.a)({distance:Math.abs(t[e.axis]-e.position)},e)})).reduce((function(e,t){return t.distance<e.distance?t:e}))}},{key:"isNearbySourcePosition",value:function(){return j(this.bifurcation.getFirstPosition(),this.bifurcation.getLastPosition())}},{key:"adjustBifurcationOverlayingSource",value:function(){var e=this.bifurcation.getBifurcationSource();if(j(this.bifurcation.getFirstPosition(),e.getLastPosition()))z(this.bifurcation.getSecondPosition(),e)&&this.bifurcation.removePoint(this.bifurcation.getFirstPoint());else{if(z(this.bifurcation.getFirstPosition(),e)&&z(this.bifurcation.getSecondPosition(),e)){if(!this.bifurcation.hasMiddlePoint())return this.bifurcation.remove(),void e.removeBifurcation(this.bifurcation);if(this.bifurcation.removePoint(this.bifurcation.getFirstPoint()),j(this.bifurcation.getFirstPosition(),e.getMiddlePosition()))return z(this.bifurcation.getLastPosition(),e)?(this.bifurcation.remove(),void e.removeBifurcation(this.bifurcation)):(this.bifurcation.getFirstPoint().setPosition(e.getLastPosition()),void this.mergeWithBifurcation(e))}e.hasMiddlePoint()&&C(this.bifurcation.getFirstPosition(),e.getMiddlePosition(),this.bifurcation.getSecondPosition())&&this.bifurcation.getFirstPoint().setPosition(e.getMiddlePosition())}}},{key:"mergeWithBifurcation",value:function(e){var t={first:e.getFirstPosition(),middle:e.getMiddlePosition(),last:e.getLastPosition(),secondLast:e.getSecondLastPosition()};e.getBifurcations().forEach((function(t){z(e.getLastPosition(),t)&&t.getFirstPoint().setPosition(e.getLastPosition())}));var n=e.getBifurcations().filter((function(n){return!!j(n.getFirstPosition(),t.last)&&(!e.hasMiddlePoint()&&!n.hasMiddlePoint()||(e.hasMiddlePoint()&&n.hasMiddlePoint()?!!j(t.middle,n.getMiddlePosition()):!!C(t.last,t.secondLast,n.getSecondPosition())))}))[0];if(n){var i=n.getSecondLastPosition(),a=n.getLastPosition();e.hasMiddlePoint()||e.addPoint(e.generatePoint(i.x,i.y),1),e.getLastPoint().setPosition(a.x,a.y),e.isStraight()&&e.hasMiddlePoint()&&e.removePoint(e.getMiddlePoint()),e.removeBifurcation(n);var r=n.getBifurcationTarget();r&&(e.setBifurcationTarget(r),r.addBifurcation(e)),this.sourceEdited=!0,n.remove(),j(e.getFirstPosition(),e.getLastPosition())?e.remove():e.setSelected(!0),this.adjustBifurcationPoints(e)}}},{key:"adjustBifurcationPoints",value:function(e){var t=this.engine.getModel().getOptions().gridSize;e.getBifurcations().filter((function(t){return!z(t.getFirstPosition(),e)})).forEach((function(n){var i=P(M(n.getFirstPosition(),e),t);n.getFirstPoint().setPosition(i.x,i.y),C(n.getFirstPosition(),n.getLastPosition())||(n.hasMiddlePoint()&&n.removePoint(n.getMiddlePoint()),w(e.getFirstPosition(),e.getSecondPosition())?n.addPoint(n.generatePoint(n.getLastPosition().x,n.getFirstPosition().y),1):n.addPoint(n.generatePoint(n.getFirstPosition().x,n.getLastPosition().y),1))}))}},{key:"fireMouseMoved",value:function(e){ye.call(this,e,this.bifurcation)}}]),n}(V.AbstractDisplacementState),ke=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.call(this,{name:"drag-canvas"})}return Object(f.a)(n,[{key:"activated",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(y.a)(Object(b.a)(n.prototype),"activated",this).call(this,t),this.engine.getModel().clearSelection(),e.next=4,this.engine.repaintCanvas(!0);case 4:this.engine.getModel().getLayers().forEach((function(e){return e.allowRepaint(!1)})),this.initialCanvasX=this.engine.getModel().getOffsetX(),this.initialCanvasY=this.engine.getModel().getOffsetY();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deactivated",value:function(e){Object(y.a)(Object(b.a)(n.prototype),"deactivated",this).call(this,e),this.engine.getModel().getLayers().forEach((function(e){return e.allowRepaint(!0)}))}},{key:"fireMouseMoved",value:function(e){1===e.event.nativeEvent.which&&(this.engine.getModel().setOffset(this.initialCanvasX+e.displacementX,this.initialCanvasY+e.displacementY),this.engine.repaintCanvas())}}]),n}(V.AbstractDisplacementState),Oe=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(this,n),(e=t.call(this,{name:"drag-new-link"})).fireEvent=function(){e.engine.fireEvent({link:e.link},"linkAdded")},e.config=Object(v.a)({},i),e.registerAction(new V.Action({type:V.InputType.MOUSE_DOWN,fire:function(t){e.moveDirection=void 0,e.hasStartedMoving=!1,e.port=e.engine.getMouseElement(t.event),e.port instanceof ve.PortModel&&!e.port.isLocked()?(e.link=e.port.createLinkModel(),e.link?(e.link.setSelected(!0),e.link.setSourcePort(e.port),e.engine.getModel().clearSelection(),e.engine.getModel().addLink(e.link),e.port.reportPosition()):e.eject()):e.eject()}})),e.registerAction(new V.Action({type:V.InputType.MOUSE_UP,fire:function(t){var n=e.engine.getMouseElement(t.event);if((n instanceof ve.NodeModel||e.isNearbySourcePort(t.event))&&(e.link.remove(),e.engine.repaintCanvas()),n instanceof ve.PortModel&&e.port.canLinkToPort(n))return e.link.setTargetPort(n),n.reportPosition(),e.engine.repaintCanvas(),void e.fireEvent();var i=T(e.link,e.engine);if(i){var a=e.engine.getFactoryForLink(i).generateModel();a.setPoints(e.link.getPoints().reverse()),a.setTargetPort(e.link.getSourcePort()),a.setBifurcationSource(i),i.addBifurcation(a),i.setSelected(!0),e.link.remove(),e.engine.getModel().addLink(a),e.link=a}e.fireEvent()}})),e}return Object(f.a)(n,[{key:"isNearbySourcePort",value:function(e){var t,n,i,a=this.engine.getRelativeMousePoint(e),r=this.link.getSourcePort(),o=r.width,c=r.getPosition();return t=a,n=c,i=o,Math.abs(t.x-n.x)<=i&&Math.abs(t.y-n.y)<=i}},{key:"fireMouseMoved",value:function(e){ye.call(this,e,this.link)}}]),n}(V.AbstractDisplacementState),xe=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this,{name:"move-items"})).getNodesPositions=function(){return e.engine.getModel().getSelectedEntities().filter((function(e){return e instanceof X})).map((function(e){return{id:e.getID(),position:e.getPosition()}}))},e.getLinksPoints=function(){return e.engine.getModel().getSelectedEntities().filter((function(e){return e instanceof X})).map((function(e){return e.getAllLinks()})).flat().map((function(e){return{id:e.getID(),points:e.getPoints().map((function(e){return e.getPosition()}))}}))},e.adjustLinkPoints=function(t){var n=t.getFirstPosition(),i=t.getLastPosition();if(t.hasMiddlePoint()||n.x===i.x||n.y===i.y){if(t.hasMiddlePoint()){"horizontal"===e.linkDirections[t.getID()]?t.getMiddlePoint().setPosition(i.x,n.y):t.getMiddlePoint().setPosition(n.x,i.y);var a=t.getMiddlePosition();(j(n,a)||j(a,i))&&t.removePoint(t.getMiddlePoint())}}else t.addPoint(t.generatePoint(n.x,i.y),1);e.adjustLinkBifurcations(t)},e.registerAction(new V.Action({type:V.InputType.MOUSE_DOWN,fire:function(t){e.engine.getModel().isLocked()?e.eject():(e.lastDisplacement=new E.Point(0,0),e.element=e.engine.getActionEventBus().getModelForEvent(t),e.element?(e.element.isSelected()||e.engine.getModel().clearSelection(),e.linkDirections=e.getLinkDirections(e.element),e.element.setSelected(!0),e.engine.repaintCanvas(),e.nodesBefore=e.getNodesPositions(),e.linksBefore=e.getLinksPoints()):e.eject())}})),e.registerAction(new V.Action({type:V.InputType.MOUSE_UP,fire:function(){0===e.lastDisplacement.x&&0===e.lastDisplacement.y||e.fireEvent()}})),e}return Object(f.a)(n,[{key:"fireEvent",value:function(){this.engine.fireEvent({nodes:{before:this.nodesBefore,after:this.getNodesPositions()},links:{before:this.linksBefore,after:this.getLinksPoints()}},"entitiesMoved")}},{key:"activated",value:function(e){Object(y.a)(Object(b.a)(n.prototype),"activated",this).call(this,e),this.initialPositions={}}},{key:"getLinksFromNode",value:function(e){var t=this;return e instanceof ve.NodeModel?Object.values(e.getPorts()).map((function(e){return Object.entries(e.getLinks())})).filter((function(e){return e.length>0})).flat().map((function(e){var n=Object(s.a)(e,2),i=n[0],a=n[1];return[[i,a]].concat(Object(h.a)(t.getBifurcatedLinks(a)))})).flat():[]}},{key:"getBifurcatedLinks",value:function(e){var t=this;return e.getBifurcations().map((function(e){return[[e.getID(),e]].concat(Object(h.a)(t.getBifurcatedLinks(e)))})).flat()}},{key:"getLinkDirections",value:function(e){var t=this;return this.getLinksFromNode(e).reduce((function(e,n){var i=Object(s.a)(n,2),a=i[0],r=i[1];return Object(v.a)({},e,Object(I.a)({},a,t.getLinkDirection(r)))}),{})}},{key:"getLinkDirection",value:function(e){if(!e.hasMiddlePoint())return null;var t=e.getFirstPosition(),n=e.getMiddlePosition();return w(t,n)?"vertical":S(t,n)?"horizontal":null}},{key:"fireMouseMoved",value:function(e){var t=this;if(1===e.event.nativeEvent.which){var n=P(new E.Point(e.virtualDisplacementX,e.virtualDisplacementY),this.engine.getModel().getOptions().gridSize);j(n,this.lastDisplacement)||(this.lastDisplacement=n,this.engine.getModel().getSelectedEntities().forEach((function(n){n instanceof V.BasePositionModel&&(t.moveEntity(n,e),n instanceof ve.NodeModel&&t.adjustNodeLinks(n))})),this.engine.repaintCanvas())}}},{key:"moveEntity",value:function(e,t){if(!e.isLocked()){this.initialPositions[e.getID()]||(this.initialPositions[e.getID()]={point:e.getPosition(),item:e});var n=this.initialPositions[e.getID()].point,i=this.engine.getModel();e.setPosition(i.getGridPosition(n.x+t.virtualDisplacementX),i.getGridPosition(n.y+t.virtualDisplacementY))}}},{key:"adjustNodeLinks",value:function(e){var t=this;Object.values(e.getPorts()).forEach((function(e){return Object.values(e.getLinks()).forEach(t.adjustLinkPoints)}))}},{key:"adjustLinkBifurcations",value:function(e){var t=this;e.getBifurcations().forEach((function(e){t.adjustFirstAndLastPoints(e),t.adjustLinkPoints(e)}))}},{key:"adjustFirstAndLastPoints",value:function(e){var t=this.engine.getModel().getOptions().gridSize,n=e.getFirstPoint(),i=P(M(n.getPosition(),e.getBifurcationSource()),t);if(n.setPosition(i.x,i.y),e.getBifurcationTarget()){var a=e.getLastPoint(),r=P(M(a.getPosition(),e.getBifurcationTarget()),t);a.setPosition(r.x,r.y)}}}]),n}(V.AbstractDisplacementState),Pe=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.call(this,{name:"selection-box"})}return Object(f.a)(n,[{key:"activated",value:function(e){Object(y.a)(Object(b.a)(n.prototype),"activated",this).call(this,e),this.layer=new V.SelectionLayerModel,this.engine.getModel().addLayer(this.layer)}},{key:"deactivated",value:function(e){Object(y.a)(Object(b.a)(n.prototype),"deactivated",this).call(this,e),this.layer.remove(),this.engine.repaintCanvas()}},{key:"getBoxDimensions",value:function(e){var t=this.engine.getRelativePoint(e.event.clientX,e.event.clientY);return{left:t.x>this.initialXRelative?this.initialXRelative:t.x,top:t.y>this.initialYRelative?this.initialYRelative:t.y,width:Math.abs(t.x-this.initialXRelative),height:Math.abs(t.y-this.initialYRelative),right:t.x<this.initialXRelative?this.initialXRelative:t.x,bottom:t.y<this.initialYRelative?this.initialYRelative:t.y}}},{key:"fireMouseMoved",value:function(e){var t=this;this.layer.setBox(this.getBoxDimensions(e));var n=this.engine.getRelativeMousePoint({clientX:this.initialX,clientY:this.initialY});e.virtualDisplacementX<0&&(n.x-=Math.abs(e.virtualDisplacementX)),e.virtualDisplacementY<0&&(n.y-=Math.abs(e.virtualDisplacementY));var i=new E.Rectangle(n,Math.abs(e.virtualDisplacementX),Math.abs(e.virtualDisplacementY));this.engine.getModel().isLocked()||this.engine.getModel().getSelectionEntities().forEach((function(e){if(e.getBoundingBox){if(!t.allowSelection(e))return;var n=e.getBoundingBox();i.containsPoint(n.getTopLeft())&&i.containsPoint(n.getBottomRight())?e.setSelected(!0):e.setSelected(!1)}})),this.engine.repaintCanvas()}},{key:"allowSelection",value:function(e){return!(e instanceof ve.LinkModel)&&!(e instanceof ve.PointModel)}}]),n}(V.AbstractDisplacementState),je=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this,{name:"selecting"})).keys=["shift"],e.registerAction(new V.Action({type:V.InputType.MOUSE_DOWN,fire:function(t){var n=e.engine.getActionEventBus().getModelForEvent(t);n?(n.setSelected(!0),e.engine.repaintCanvas()):e.transitionWithEvent(new Pe,t)}})),e}return n}(V.State),we=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this,{name:"diagram-states"})).childStates=[new je],e.dragCanvas=new ke,e.dragNewLink=new Oe,e.bifurcateLink=new Ee,e.dragItems=new xe,e.registerAction(new V.Action({type:V.InputType.MOUSE_DOWN,fire:function(t){var n=e.engine.getActionEventBus().getModelForEvent(t);n?n instanceof ve.PortModel?e.transitionWithEvent(e.dragNewLink,t):n instanceof ve.LinkModel?e.transitionWithEvent(e.bifurcateLink,t):e.transitionWithEvent(e.dragItems,t):e.transitionWithEvent(e.dragCanvas,t)}})),e}return n}(V.State),Se=function e(t,n){var i=this;Object(d.a)(this,e),this.getEngine=function(){return i.engine},this.getModel=function(){return i.engine.getModel()},this.initializeEngine=function(){i.engine=O()({registerDefaultDeleteItemsAction:!1,registerDefaultZoomCanvasAction:!1}),i.engine.commands=new he,i.engine.registerListener(me(i)),i.engine.getStateMachine().pushState(new we),[se,le,ue,de,pe].forEach((function(e){return i.engine.getActionEventBus().registerAction(new e(i.areShortcutsAllowed))})),i.engine.getPortFactories().registerFactory(new ce),i.engine.getLinkFactories().registerFactory(new oe),i.registerComponents()},this.initializeModel=function(){i.model=new k.DiagramModel,i.model.setGridSize(15),i.model.setLocked(!1),i.model.registerListener({eventDidFire:function(e){var t=e.function;"offsetUpdated"===t&&i.adjustGridOffset(e),"zoomUpdated"===t&&i.adjustGridZoom(e)}}),i.realignGrid(),i.engine.setModel(i.model)},this.registerComponents=function(){i.components.forEach((function(e){i.engine.getNodeFactories().registerFactory(e)}))},this.serialize=function(){return i.model.serialize()},this.load=function(e){i.engine.commands.clear(),i.model.deserializeModel(e,i.engine),i.realignGrid(),i.engine.repaintCanvas()},this.setLocked=function(e){i.model.setLocked(e),i.locked=e},this.isLocked=function(){return i.locked},this.repaint=function(){return i.engine.repaintCanvas()},this.realignGrid=function(){i.adjustGridOffset({offsetX:i.model.getOffsetX(),offsetY:i.model.getOffsetY()}),i.adjustGridZoom({zoom:i.model.getZoomLevel()})},this.adjustGridOffset=function(e){var t=e.offsetX,n=e.offsetY;document.body.style.setProperty("--offset-x","".concat(t,"px")),document.body.style.setProperty("--offset-y","".concat(n,"px"))},this.adjustGridZoom=function(e){var t=e.zoom,n=i.model.getOptions().gridSize;document.body.style.setProperty("--grid-size","".concat(n*t/100,"px"))},this.handleComponentDrop=function(e,t){var n=i.components.find((function(e){return e.type===t.type})).Model,a=e?function(){var t=i.engine.getRelativeMousePoint(e),n=t.x,a=t.y;return new E.Point(15*Math.round(n/15),15*Math.round(a/15))}():new E.Point(0,0),r=new n(t.type,t.configurations);i.model.addNode(r),r.setPosition(a),i.engine.fireEvent({nodes:[r]},"componentsAdded"),i.engine.repaintCanvas()},this.handleComponentEdit=function(e,t){var n=e.configurations,a=e.getAllLinks();i.editComponentConfiguration(e,t),i.engine.fireEvent({node:e,configurations:{before:n,after:e.configurations},links:{before:a,after:e.getAllLinks()}},"componentEdited"),i.engine.repaintCanvas()},this.editComponentConfiguration=function(e,t){var n=e.getPorts();e.configurations=t,e.ports={},e.initialize(t);var i=Object.values(e.getPorts()).some((function(e){return!n[e.getName()]})),a=Object.values(n).some((function(t){return!e.getPort(t.getName())}));i||a?Object.values(n).forEach((function(e){return Object.values(e.getLinks()).forEach((function(e){return e.remove()}))})):Object.values(n).forEach((function(t){var n=e.getPort(t.getName()),i=Object.values(t.getLinks())[0];i&&(n.addLink(i),t===i.getSourcePort()&&i.setSourcePort(n),t===i.getTargetPort()&&i.setTargetPort(n),t.remove())}))},this.clearSelection=function(){return i.getEngine().getModel().clearSelection()},this.getSelectedNodes=function(){return i.engine.getModel().getSelectedEntities().filter((function(e){return e instanceof X}))},this.fireAction=function(e){return i.engine.getActionEventBus().fireAction({event:Object(v.a)({},e,{key:"",preventDefault:function(){},stopPropagation:function(){}})})},this.duplicateSelected=function(){return i.fireAction({type:"keydown",ctrlKey:!0,code:"KeyD"})},this.cutSelected=function(){return i.fireAction({type:"keydown",ctrlKey:!0,code:"KeyX"})},this.copySelected=function(){return i.fireAction({type:"keydown",ctrlKey:!0,code:"KeyC"})},this.pasteSelected=function(){return i.fireAction({type:"keydown",ctrlKey:!0,code:"KeyV"})},this.deleteSelected=function(){return i.fireAction({type:"keydown",code:"Delete"})},this.undo=function(){return i.fireAction({type:"keydown",ctrlKey:!0,code:"KeyZ"})},this.redo=function(){return i.fireAction({type:"keydown",ctrlKey:!0,shiftKey:!0,code:"KeyZ"})},this.zoomIn=function(e){var t=e.event;return i.fireAction({clientX:t.clientX,clientY:t.clientY,type:"wheel",deltaY:1})},this.zoomOut=function(e){var t=e.event;return i.fireAction({clientX:t.clientX,clientY:t.clientY,type:"wheel",deltaY:-1})},this.synchronizeLink=function(e,t){return i.getEngine().getModel().getLink(e).setValue(t)},this.synchronizeComponent=function(e,t){var n=i.getEngine().getModel().getNode(e);Object.entries(t.output).forEach((function(e){var t=Object(s.a)(e,2),i=t[0],a=t[1];return n.getPort(i).setValue(a)})),Object.entries(t.properties).forEach((function(e){var t=Object(s.a)(e,2),i=t[0],a=t[1];n[i]=a}))},this.clearAllValues=function(){i.clearLinkValues(),i.clearPortValues()},this.clearLinkValues=function(){return i.getEngine().getModel().getLinks().forEach((function(e){return e.setValue(null)}))},this.clearPortValues=function(){return i.getEngine().getModel().getNodes().forEach((function(e){return Object.values(e.getPorts()).forEach((function(e){return e.setValue(null)}))}))},this.components=t,this.areShortcutsAllowed=n,this.locked=!1,this.initializeEngine(),this.initializeModel()};function Ce(){var e=Object(G.a)(["\n  width: 10px;\n  height: 10px;\n  border: var(--port-width) solid\n    ",";\n  border-radius: 100%;\n  background: ",";\n\n  &:hover {\n    background: var(--port-hover);\n  }\n"]);return Ce=function(){return e},e}var Me=J.a.div(Ce(),(function(e){return e.link?"var(--port-connected-border)":"var(--port-unconnected-border)"}),(function(e){return e.port.getColor()})),Le=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"report",value:function(){this.props.port&&Object(y.a)(Object(b.a)(n.prototype),"report",this).call(this)}},{key:"componentDidUpdate",value:function(){this.props.port&&Object(y.a)(Object(b.a)(n.prototype),"componentDidUpdate",this).call(this)}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.model,i=e.port,r=e.className,o=void 0===r?"":r;return i?a.a.createElement(Me,{className:"port ".concat(o),"data-name":t,"data-nodeid":n.getID(),port:i,link:i.getMainLink()}):null}}]),n}(k.PortWidget);function ze(){var e=Object(G.a)(["\n  position: absolute;\n  left: ","px;\n  height: ","px;\n  width: 2px;\n  background: ",";\n\n  ","\n"]);return ze=function(){return e},e}var Te=function(e){if(2===e)return[1,5];if(3===e)return[1,3,5];if(4===e)return[1,2,4,5];var t=e%2===0,n=e-(t?0:1),i=0,a=5;e>5&&(i=Math.floor((5-n)/2),a=n+1);var r=Object(h.a)(Array(a).keys()).map((function(e){return e+i+1}));return t&&r.splice(e/2,1),r},Ie=J.a.div(ze(),(function(e){return e.offsetX}),(function(e){return e.size}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"}),(function(e){return"".concat(e.place,": 88px;")})),Be=function(e){var t=e.selected,n=e.portPositions,i=e.offsetX,r=void 0===i?1:i,o=n[n.length-1];if(o<=5)return null;var c=15*(o-5);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ie,{selected:t,size:c,place:"top",offsetX:r}),a.a.createElement(Ie,{selected:t,size:c,place:"bottom",offsetX:r}))};function De(){var e=Object(G.a)(["\n  position: absolute;\n\n  ","\n\n  ",";\n"]);return De=function(){return e},e}function Ae(){var e=Object(G.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 90px;\n  height: 90px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"]);return Ae=function(){return e},e}var Ne=J.a.div(Ae(),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Re=Object(J.a)(Le)(De(),(function(e){return"out"===e.name?"":"top: ".concat(15*e.position-5,"px;")}),(function(e){return"out"===e.name?"right: -5px":"left: -5px"})),He=function(e){var t=e.size,n=void 0===t?90:t;return a.a.createElement("svg",{height:n,width:n,viewBox:"0 0 23.812499 23.812501",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},a.a.createElement("g",null,a.a.createElement("path",{transform:"scale(0.26458333)",d:"M 2 2 L 2 45 A 42.999999 42.999999 0 0 0 2 45.271484 L 2 88 L 45 88 A 42.999999 42.999999 0 0 0 88 45 A 42.999999 42.999999 0 0 0 45 2 L 44.728516 2 L 2 2 z "})))},Fe=function(e){var t=e.model,n=e.engine,i=Object.values(t.getInputPorts()),r=Te(i.length);return a.a.createElement(Ne,{selected:t.isSelected()},a.a.createElement(Be,{selected:t.isSelected(),portPositions:r}),i.map((function(e,i){return a.a.createElement(Re,{key:e.getName(),name:e.getName(),model:t,port:e,engine:n,position:r[i]})})),a.a.createElement(Re,{name:"out",model:t,port:t.getPort("out"),engine:n}),a.a.createElement(He,null))},Ue=function(){return a.a.createElement(He,{size:30})},We=new Z({type:"And",name:"And",description:'Logic "and" gate',group:"Logic gates",configurations:[{name:"INPUT_PORTS_NUMBER",type:"number",default:2,label:"Number of input ports",min:2,max:32,validate:function(e){return e<this.min?"Minimum input ports is ".concat(this.min):e>this.max?"Maximum input ports is ".concat(this.max):null}}],model:function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"initialize",value:function(e){for(var t=parseInt(e.INPUT_PORTS_NUMBER,10),n=0;n<t;n+=1)this.addInputPort("in".concat(n));this.addOutputPort("out")}},{key:"step",value:function(e){return{out:Object.values(e).every((function(e){return 1===e}))?1:0}}}]),n}(X),widget:Fe,icon:Ue});function _e(){var e=Object(G.a)(["\n  position: absolute;\n  ","\n"]);return _e=function(){return e},e}function Ke(){var e=Object(G.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 30px;\n  height: 30px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"]);return Ke=function(){return e},e}var Xe=J.a.div(Ke(),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Ye=Object(J.a)(Le)(_e(),(function(e){return"in"===e.name?"left: -5px;":"out"===e.name?"right: -5px;":""})),Ve=function(e){var t=e.size,n=void 0===t?30:t;return a.a.createElement("svg",{height:n,width:n,viewBox:"0 0 45.0 45.0",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},a.a.createElement("g",null,a.a.createElement("path",{d:"M 1.0207771,1.6492624 V 43.357967 L 42.724327,22.649262 Z"})))},Ze=function(e){var t=e.model,n=e.engine,i=t.options.selected;return a.a.createElement(Xe,{selected:i},a.a.createElement(Ye,{name:"in",model:t,port:t.getPort("in"),engine:n}),a.a.createElement(Ye,{name:"out",model:t,port:t.getPort("out"),engine:n}),a.a.createElement(Ve,null))},Ge=function(){return a.a.createElement(Ve,{size:30})},Je=new Z({type:"Buffer",name:"Buffer",description:"Simple buffer",group:"Logic gates",configurations:[],model:function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"initialize",value:function(){this.addInputPort("in"),this.addOutputPort("out")}},{key:"step",value:function(e){return{out:e.in}}}]),n}(X),widget:Ze,icon:Ge});function qe(){var e=Object(G.a)(["\n  position: absolute;\n  right: -5px;\n"]);return qe=function(){return e},e}function Qe(){var e=Object(G.a)(["\n  position: absolute;\n  border-radius: 50%;\n  width: 18px;\n  height: 18px;\n  outline: none;\n\n  border: 2px solid rgba(0, 0, 0, 0.3);\n  background: linear-gradient(\n    225deg,\n    rgba(238, 0, 0, 1) 0%,\n    rgba(125, 20, 20, 1) 100%\n  );\n\n  :active {\n    border: 2px solid rgba(255, 255, 255, 0.5);\n    background: linear-gradient(\n      225deg,\n      rgba(125, 20, 20, 1) 0%,\n      rgba(238, 0, 0, 1) 100%\n    );\n  }\n"]);return Qe=function(){return e},e}function $e(){var e=Object(G.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 30px;\n  height: 30px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"]);return $e=function(){return e},e}var et=J.a.div($e(),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),tt=J.a.button(Qe()),nt=Object(J.a)(Le)(qe()),it=function(e){var t=e.size,n=void 0===t?30:t;return a.a.createElement("svg",{width:n,height:n,viewBox:"0 0 7.9374997 7.9375003",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"1"},a.a.createElement("g",null,a.a.createElement("rect",{y:"0.26458332",x:"0.26458332",height:"7.4083333",width:"7.4083333"})))},at=function(e){var t=e.model,n=e.engine,i=t.options.selected;return a.a.createElement(et,{selected:i},a.a.createElement(nt,{name:"out",model:t,port:t.getPort("out"),engine:n}),a.a.createElement(it,null),a.a.createElement(tt,{onMouseDown:function(){return t.onClick()},onMouseUp:function(){return t.onRelease()}}))},rt=function(){return a.a.createElement(it,{size:30})},ot=new Z({type:"Button",name:"Button",description:"Simple button",group:"Input & output",configurations:[],model:function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"initialize",value:function(){this.addOutputPort("out")}},{key:"onSimulationStart",value:function(){this.emit({out:0})}},{key:"onClick",value:function(){this.emit({out:1})}},{key:"onRelease",value:function(){this.emit({out:0})}}]),n}(X),widget:at,icon:rt});function ct(){var e=Object(G.a)(["\n  position: absolute;\n  right: -5px;\n"]);return ct=function(){return e},e}function lt(){var e=Object(G.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 30px;\n  height: 30px;\n\n  transition: 100ms linear;\n  .shape {\n    fill: ",";\n    stroke: ",";\n  }\n"]);return lt=function(){return e},e}var ut=J.a.div(lt(),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),st=Object(J.a)(Le)(ct()),dt=function(e){var t=e.size,n=void 0===t?30:t,i=e.output,r=e.color,o=e.periodMs,c=e.animateTransition;return a.a.createElement("svg",{className:"shape",height:n,width:n,viewBox:"0 0 7.9374997 7.9375003",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"1"},a.a.createElement("g",null,a.a.createElement("rect",{y:"0.26458332",x:"0.26458332",height:"7.4083333",width:"7.4083333"})),a.a.createElement("path",{stroke:r,strokeWidth:.75,fill:"none",style:{transform:0===i?"rotateX(180deg)":"none",transformOrigin:"center",transition:c?"calc(".concat(o,"ms / 2 * 0.4) ease-in-out"):"none"},d:"M 1.8683545,4.4337648 V 6.14192 H 4.0062447 V 1.79558 h 2.0629007 v 1.7578226"}))},ft=function(e){var t=e.model,n=e.engine,i=t.options.selected,r=t.periodMs,o=t.getPort("out");return a.a.createElement(ut,{selected:i},a.a.createElement(st,{name:"out",model:t,port:o,engine:n}),a.a.createElement(dt,{output:o.getValue(),color:o.getColor(),periodMs:r,animateTransition:r>=500}))},pt=function(){return a.a.createElement(dt,{size:30})},mt=new Z({type:"Clock",name:"Clock",description:"Generates a clock signal",group:"Input & output",configurations:[{name:"FREQUENCY_HZ",type:"number",default:1,label:"Frequency (in Hz)",step:.25,min:.25,max:1e3,validate:function(e){return e<this.min?"Frequency should be greater than ".concat(this.min," Hz"):e>this.max?"Frequency should be lesser than ".concat(this.max," Hz"):e%this.step!==0?"Frequency should be divisible by ".concat(this.step," Hz"):null}},{name:"HIGH_DURATION",type:"number",default:1,label:"High duration (in cycles)",min:1,validate:function(e){return e<this.min?"High duration should be greater than ".concat(this.min):null}},{name:"LOW_DURATION",type:"number",default:1,label:"Low duration (in cycles)",min:1,validate:function(e){return e<this.min?"Low duration should be greater than ".concat(this.min):null}}],model:function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"initialize",value:function(e){this.addOutputPort("out"),this.configurations=e,this.output=0,this.emitInterval=null,this.periodMs=1e3/this.configurations.FREQUENCY_HZ,this.highCount=0,this.lowCount=0}},{key:"onSimulationStart",value:function(){var e=this;this.emit({out:this.output}),this.emitInterval=setInterval((function(){e.output=e.getNextOutput(),e.emit({out:e.output})}),this.periodMs/2)}},{key:"getNextOutput",value:function(){var e=this.configurations,t=e.HIGH_DURATION,n=e.LOW_DURATION;return 1===this.output?(this.highCount+=1,this.highCount===t?(this.highCount=0,0):1):(this.lowCount+=1,this.lowCount===n?(this.lowCount=0,1):0)}},{key:"onSimulationPause",value:function(){clearInterval(this.emitInterval)}},{key:"onSimulationStop",value:function(){clearInterval(this.emitInterval)}}]),n}(X),widget:ft,icon:pt});function gt(){var e=Object(G.a)(["\n  position: absolute;\n\n  ","\n\n  ",";\n"]);return gt=function(){return e},e}function ht(){var e=Object(G.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 105px;\n  height: 90px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"]);return ht=function(){return e},e}var vt=J.a.div(ht(),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),bt=Object(J.a)(Le)(gt(),(function(e){return"out"===e.name?"":"top: ".concat(15*e.position-5,"px;")}),(function(e){return"out"===e.name?"right: -5px":"left: -5px"})),yt=function(e){var t=e.size,n=void 0===t?90:t;return a.a.createElement("svg",{height:n,width:n+15,viewBox:"0 0 27.781249 23.812501",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},a.a.createElement("g",{transform:"scale(0.26458333)"},a.a.createElement("path",{d:"m 2,2 v 43 a 42.999999,42.999999 0 0 0 0,0.271484 V 88 H 45 A 42.999999,42.999999 0 0 0 88,45 42.999999,42.999999 0 0 0 45,2 h -0.271484 z"}),a.a.createElement("circle",{r:"5.72056",cy:"45",cx:"94.27944"})))},Et=function(e){var t=e.model,n=e.engine,i=Object.values(t.getInputPorts()),r=Te(i.length);return a.a.createElement(vt,{selected:t.isSelected()},a.a.createElement(Be,{selected:t.isSelected(),portPositions:r}),i.map((function(e,i){return a.a.createElement(bt,{key:e.getName(),name:e.getName(),model:t,port:e,engine:n,position:r[i]})})),a.a.createElement(bt,{name:"out",model:t,port:t.getPort("out"),engine:n}),a.a.createElement(yt,null))},kt=function(){return a.a.createElement(yt,{size:30})},Ot=new Z({type:"Nand",name:"Nand",description:'Logic "not and" gate',group:"Logic gates",configurations:[{name:"INPUT_PORTS_NUMBER",type:"number",default:2,label:"Number of input ports",min:2,max:32,validate:function(e){return e<this.min?"Minimum input ports is ".concat(this.min):e>this.max?"Maximum input ports is ".concat(this.max):null}}],model:function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"initialize",value:function(e){for(var t=parseInt(e.INPUT_PORTS_NUMBER,10),n=0;n<t;n+=1)this.addInputPort("in".concat(n));this.addOutputPort("out")}},{key:"step",value:function(e){return{out:Object.values(e).every((function(e){return 1===e}))?0:1}}}]),n}(X),widget:Et,icon:kt});function xt(){var e=Object(G.a)(["\n  position: absolute;\n\n  ","\n\n  ",";\n"]);return xt=function(){return e},e}function Pt(){var e=Object(G.a)(["\n  position: absolute;\n  z-index: -1;\n\n  background: ",";\n\n  height: 2px;\n  width: 15px;\n\n  top: ","px;\n  left: -2px;\n"]);return Pt=function(){return e},e}function jt(){var e=Object(G.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 105px;\n  height: 90px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"]);return jt=function(){return e},e}var wt=J.a.div(jt(),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),St=J.a.div(Pt(),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"}),(function(e){return 15*e.position-1})),Ct=Object(J.a)(Le)(xt(),(function(e){return"out"===e.name?"":"top: ".concat(15*e.position-5,"px;")}),(function(e){return"out"===e.name?"right: -5px":"left: -5px"})),Mt=function(e){var t=e.size,n=void 0===t?90:t,i=e.portPositions,r=void 0===i?[]:i;return a.a.createElement("svg",{height:n,width:n+15,viewBox:"0 0 27.781249 23.812501",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},a.a.createElement("g",{transform:"scale(0.26458333)"},a.a.createElement("path",{d:"m 12.810547,2 c 5.50133,9.517685 8.779279,25.095781 8.779297,41.722656 C 21.590006,62.052878 17.611871,78.966668 11.175781,88 H 45 C 68.748245,88.000001 88.005576,45.650843 88,45 87.994195,44.322314 68.748245,1.9999989 45,2 h -0.271484 z"}),a.a.createElement("circle",{r:"5.72056",cy:"45",cx:"94.27944"})),a.a.createElement("g",{strokeWidth:.5},r.includes(1)&&a.a.createElement("path",{d:"M 4.8860442,4.1010415 H 0.38245295"}),r.includes(2)&&a.a.createElement("path",{d:"M 5.3419835,8.0697915 H 0.38232292"}),r.includes(3)&&a.a.createElement("path",{d:"M 5.5975927,12.038541 H 0.38232292"}),r.includes(4)&&a.a.createElement("path",{d:"M 5.2516863,16.007291 H 0.38232292"}),r.includes(5)&&a.a.createElement("path",{d:"M 4.3916654,19.976041 H 0.38232292"})))},Lt=function(e){var t=e.model,n=e.engine,r=Object.values(t.getInputPorts()),o=Te(r.length);return a.a.createElement(wt,{selected:t.options.selected},a.a.createElement(Be,{selected:t.isSelected(),portPositions:o,offsetX:12}),r.map((function(e,r){return a.a.createElement(i.Fragment,{key:e.getName()},a.a.createElement(Ct,{name:e.getName(),model:t,port:e,engine:n,position:o[r]}),(o[r]<1||o[r]>5)&&a.a.createElement(St,{selected:t.isSelected(),position:o[r]}))})),a.a.createElement(Ct,{name:"out",model:t,port:t.getPort("out"),engine:n}),a.a.createElement(Mt,{portPositions:o}))},zt=function(){return a.a.createElement(Mt,{size:30})},Tt=new Z({type:"Nor",name:"Nor",description:'Logic "not or" gate',group:"Logic gates",configurations:[{name:"INPUT_PORTS_NUMBER",type:"number",default:2,label:"Number of input ports",min:2,max:32,validate:function(e){return e<this.min?"Minimum input ports is ".concat(this.min):e>this.max?"Maximum input ports is ".concat(this.max):null}}],model:function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"initialize",value:function(e){for(var t=parseInt(e.INPUT_PORTS_NUMBER,10),n=0;n<t;n+=1)this.addInputPort("in".concat(n));this.addOutputPort("out")}},{key:"step",value:function(e){return{out:Object.values(e).some((function(e){return 1===e}))?0:1}}}]),n}(X),widget:Lt,icon:zt});function It(){var e=Object(G.a)(["\n  position: absolute;\n  ","\n"]);return It=function(){return e},e}function Bt(){var e=Object(G.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 45px;\n  height: 30px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"]);return Bt=function(){return e},e}var Dt=J.a.div(Bt(),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),At=Object(J.a)(Le)(It(),(function(e){return"in"===e.name?"left: -5px;":"out"===e.name?"right: -5px;":""})),Nt=function(e){var t=e.size,n=void 0===t?30:t;return a.a.createElement("svg",{height:n,width:n+15,viewBox:"11 0 45.0 45.0",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},a.a.createElement("g",null,a.a.createElement("path",{d:"M 1.0207771,1.6492624 V 43.357967 L 42.724327,22.649262 Z"}),a.a.createElement("circle",{r:"8",cy:"22",cx:"51"})))},Rt=function(e){var t=e.model,n=e.engine,i=t.options.selected;return a.a.createElement(Dt,{selected:i},a.a.createElement(At,{name:"in",model:t,port:t.getPort("in"),engine:n}),a.a.createElement(At,{name:"out",model:t,port:t.getPort("out"),engine:n}),a.a.createElement(Nt,null))},Ht=function(){return a.a.createElement(Nt,{size:30})},Ft=new Z({type:"Not",name:"Not",description:"Negation component",group:"Logic gates",configurations:[],model:function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"initialize",value:function(){this.addInputPort("in"),this.addOutputPort("out")}},{key:"step",value:function(e){return{out:1===e.in?0:1}}}]),n}(X),widget:Rt,icon:Ht});function Ut(){var e=Object(G.a)(["\n  position: absolute;\n\n  ","\n\n  ",";\n"]);return Ut=function(){return e},e}function Wt(){var e=Object(G.a)(["\n  position: absolute;\n  z-index: -1;\n\n  background: ",";\n\n  height: 2px;\n  width: 15px;\n\n  top: ","px;\n  left: -2px;\n"]);return Wt=function(){return e},e}function _t(){var e=Object(G.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 90px;\n  height: 90px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"]);return _t=function(){return e},e}var Kt=J.a.div(_t(),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),Xt=J.a.div(Wt(),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"}),(function(e){return 15*e.position-1})),Yt=Object(J.a)(Le)(Ut(),(function(e){return"out"===e.name?"":"top: ".concat(15*e.position-5,"px;")}),(function(e){return"out"===e.name?"right: -5px":"left: -5px"})),Vt=function(e){var t=e.size,n=void 0===t?90:t,i=e.portPositions,r=void 0===i?[]:i;return a.a.createElement("svg",{height:n,width:n,viewBox:"0 0 23.812499 23.812501",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},a.a.createElement("g",null,a.a.createElement("path",{d:"m 12.810547,2 c 5.50133,9.517685 8.779279,25.095781 8.779297,41.722656 C 21.590006,62.052878 17.611871,78.966668 11.175781,88 H 45 C 68.748245,88.000001 88.005576,45.650843 88,45 87.994195,44.322314 68.748245,1.9999989 45,2 h -0.271484 z",transform:"scale(0.26458333)"})),a.a.createElement("g",{strokeWidth:.5},r.includes(1)&&a.a.createElement("path",{d:"M 4.8860442,4.1010415 H 0.38245295"}),r.includes(2)&&a.a.createElement("path",{d:"M 5.3419835,8.0697915 H 0.38232292"}),r.includes(3)&&a.a.createElement("path",{d:"M 5.5975927,12.038541 H 0.38232292"}),r.includes(4)&&a.a.createElement("path",{d:"M 5.2516863,16.007291 H 0.38232292"}),r.includes(5)&&a.a.createElement("path",{d:"M 4.3916654,19.976041 H 0.38232292"})))},Zt=function(e){var t=e.model,n=e.engine,r=Object.values(t.getInputPorts()),o=Te(r.length);return a.a.createElement(Kt,{selected:t.options.selected},a.a.createElement(Be,{selected:t.isSelected(),portPositions:o,offsetX:12}),r.map((function(e,r){return a.a.createElement(i.Fragment,{key:e.getName()},a.a.createElement(Yt,{name:e.getName(),model:t,port:e,engine:n,position:o[r]}),(o[r]<1||o[r]>5)&&a.a.createElement(Xt,{selected:t.isSelected(),position:o[r]}))})),a.a.createElement(Yt,{name:"out",model:t,port:t.getPort("out"),engine:n}),a.a.createElement(Vt,{portPositions:o}))},Gt=function(){return a.a.createElement(Vt,{size:30})},Jt=new Z({type:"Or",name:"Or",description:'Logic "or" gate',group:"Logic gates",configurations:[{name:"INPUT_PORTS_NUMBER",type:"number",default:2,label:"Number of input ports",min:2,max:32,validate:function(e){return e<this.min?"Minimum input ports is ".concat(this.min):e>this.max?"Maximum input ports is ".concat(this.max):null}}],model:function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"initialize",value:function(e){for(var t=parseInt(e.INPUT_PORTS_NUMBER,10),n=0;n<t;n+=1)this.addInputPort("in".concat(n));this.addOutputPort("out")}},{key:"step",value:function(e){return{out:Object.values(e).some((function(e){return 1===e}))?1:0}}}]),n}(X),widget:Zt,icon:Gt});function qt(){var e=Object(G.a)(["\n  position: absolute;\n\n  ","\n\n  ",";\n"]);return qt=function(){return e},e}function Qt(){var e=Object(G.a)(["\n  position: absolute;\n  z-index: -1;\n\n  background: ",";\n\n  height: 2px;\n  width: 15px;\n\n  top: ","px;\n  left: -2px;\n"]);return Qt=function(){return e},e}function $t(){var e=Object(G.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 105px;\n  height: 90px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"]);return $t=function(){return e},e}var en=J.a.div($t(),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),tn=J.a.div(Qt(),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"}),(function(e){return 15*e.position-1})),nn=Object(J.a)(Le)(qt(),(function(e){return"out"===e.name?"":"top: ".concat(15*e.position-5,"px;")}),(function(e){return"out"===e.name?"right: -5px":"left: -5px"})),an=function(e){var t=e.size,n=void 0===t?90:t,i=e.portPositions,r=void 0===i?[]:i;return a.a.createElement("svg",{height:n,width:n+15,viewBox:"0 0 27.781249 23.812501",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},a.a.createElement("g",null,a.a.createElement("path",{fill:"none",style:{transform:"scale(0.284583, 0.284583) translate(-1px, -3px)"},d:"m 11.926664,1.1161165 c 5.50133,9.5176855 9.663162,25.9796645 9.66318,42.6065395 m 0,0 c 1.62e-4,18.330222 -4.950245,36.216284 -11.386335,45.249616"}),a.a.createElement("g",{transform:"scale(0.26458333)"},a.a.createElement("path",{d:"m 12.810547,2 c 5.50133,9.517685 8.779279,25.095781 8.779297,41.722656 C 21.590006,62.052878 17.611871,78.966668 11.175781,88 H 37.875 c 23.748245,0 43.005576,-42.349157 43,-43 -0.0058,-0.677686 -19.251755,-43 -43,-43 h -0.271484 z",transform:"translate(7)"}),a.a.createElement("circle",{r:"5.72056",cy:"45",cx:"94.27944"}))),a.a.createElement("g",{strokeWidth:.5},r.includes(1)&&a.a.createElement("path",{d:"M 4.8860442,4.1010415 H 0.38245295"}),r.includes(2)&&a.a.createElement("path",{d:"M 5.3419835,8.0697915 H 0.38232292"}),r.includes(3)&&a.a.createElement("path",{d:"M 5.5975927,12.038541 H 0.38232292"}),r.includes(4)&&a.a.createElement("path",{d:"M 5.2516863,16.007291 H 0.38232292"}),r.includes(5)&&a.a.createElement("path",{d:"M 4.3916654,19.976041 H 0.38232292"})))},rn=function(e){var t=e.model,n=e.engine,r=Object.values(t.getInputPorts()),o=Te(r.length);return a.a.createElement(en,{selected:t.options.selected},a.a.createElement(Be,{selected:t.isSelected(),portPositions:o,offsetX:12}),r.map((function(e,r){return a.a.createElement(i.Fragment,{key:e.getName()},a.a.createElement(nn,{name:e.getName(),model:t,port:e,engine:n,position:o[r]}),(o[r]<1||o[r]>5)&&a.a.createElement(tn,{selected:t.isSelected(),position:o[r]}))})),a.a.createElement(nn,{name:"out",model:t,port:t.getPort("out"),engine:n}),a.a.createElement(an,{portPositions:o}))},on=function(){return a.a.createElement(an,{size:30})},cn=new Z({type:"Xnor",name:"Xnor",description:'Logic "not exclusive or" gate',group:"Logic gates",configurations:[{name:"INPUT_PORTS_NUMBER",type:"number",default:2,label:"Number of input ports",min:2,max:32,validate:function(e){return e<this.min?"Minimum input ports is ".concat(this.min):e>this.max?"Maximum input ports is ".concat(this.max):null}},{name:"MULTIPLE_INPUT_BEHAVIOR",type:"select",default:"ONE",label:"Multiple input behavior",options:[{label:"Detect when only one input is on",value:"ONE"},{label:"Detect when an odd number of inputs are on",value:"ODD"}]}],model:function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"initialize",value:function(e){this.behavior=e.MULTIPLE_INPUT_BEHAVIOR;for(var t=parseInt(e.INPUT_PORTS_NUMBER,10),n=0;n<t;n+=1)this.addInputPort("in".concat(n));this.addOutputPort("out")}},{key:"step",value:function(e){var t=Object.values(e).filter((function(e){return 1===e})).length;switch(this.behavior){case"ONE":return{out:1===t?0:1};case"ODD":return{out:t%2===1?0:1};default:return{}}}}]),n}(X),widget:rn,icon:on});function ln(){var e=Object(G.a)(["\n  position: absolute;\n\n  ","\n\n  ",";\n"]);return ln=function(){return e},e}function un(){var e=Object(G.a)(["\n  position: absolute;\n  z-index: -1;\n\n  background: ",";\n\n  height: 2px;\n  width: 15px;\n\n  top: ","px;\n  left: -2px;\n"]);return un=function(){return e},e}function sn(){var e=Object(G.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 90px;\n  height: 90px;\n\n  transition: 100ms linear;\n  svg {\n    fill: ",";\n    stroke: ",";\n  }\n"]);return sn=function(){return e},e}var dn=J.a.div(sn(),(function(e){return e.selected?"var(--body-selected)":"var(--body-unselected)"}),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"})),fn=J.a.div(un(),(function(e){return e.selected?"var(--border-selected)":"var(--border-unselected)"}),(function(e){return 15*e.position-1})),pn=Object(J.a)(Le)(ln(),(function(e){return"out"===e.name?"":"top: ".concat(15*e.position-5,"px;")}),(function(e){return"out"===e.name?"right: -5px":"left: -5px"})),mn=function(e){var t=e.size,n=void 0===t?90:t,i=e.portPositions,r=void 0===i?[]:i;return a.a.createElement("svg",{height:n,width:n,viewBox:"0 0 23.812499 23.812501",fill:"var(--body-unselected)",stroke:"var(--border-unselected)",strokeWidth:"var(--border-width)"},a.a.createElement("g",null,a.a.createElement("path",{fill:"none",style:{transform:"scale(0.284583, 0.284583) translate(-1px, -3px)"},d:"m 11.926664,1.1161165 c 5.50133,9.5176855 9.663162,25.9796645 9.66318,42.6065395 m 0,0 c 1.62e-4,18.330222 -4.950245,36.216284 -11.386335,45.249616"}),a.a.createElement("g",{transform:"translate(1.8657598)"},a.a.createElement("path",{d:"m 12.810547,2 c 5.50133,9.517685 8.779279,25.095781 8.779297,41.722656 C 21.590006,62.052878 17.611871,78.966668 11.175781,88 H 37.875 c 23.748245,0 43.005576,-42.349157 43,-43 -0.0058,-0.677686 -19.251755,-43 -43,-43 h -0.271484 z",transform:"scale(0.26458333)"}))),a.a.createElement("g",{strokeWidth:.5},r.includes(1)&&a.a.createElement("path",{d:"M 4.8860442,4.1010415 H 0.38245295"}),r.includes(2)&&a.a.createElement("path",{d:"M 5.3419835,8.0697915 H 0.38232292"}),r.includes(3)&&a.a.createElement("path",{d:"M 5.5975927,12.038541 H 0.38232292"}),r.includes(4)&&a.a.createElement("path",{d:"M 5.2516863,16.007291 H 0.38232292"}),r.includes(5)&&a.a.createElement("path",{d:"M 4.3916654,19.976041 H 0.38232292"})))},gn=function(e){var t=e.model,n=e.engine,r=Object.values(t.getInputPorts()),o=Te(r.length);return a.a.createElement(dn,{selected:t.options.selected},a.a.createElement(Be,{selected:t.isSelected(),portPositions:o,offsetX:12}),r.map((function(e,r){return a.a.createElement(i.Fragment,{key:e.getName()},a.a.createElement(pn,{name:e.getName(),model:t,port:e,engine:n,position:o[r]}),(o[r]<1||o[r]>5)&&a.a.createElement(fn,{selected:t.isSelected(),position:o[r]}))})),a.a.createElement(pn,{name:"out",model:t,port:t.getPort("out"),engine:n}),a.a.createElement(mn,{portPositions:o}))},hn=function(){return a.a.createElement(mn,{size:30})},vn=[We,Ot,Jt,Tt,new Z({type:"Xor",name:"Xor",description:'Logic "exclusive or" gate',group:"Logic gates",configurations:[{name:"INPUT_PORTS_NUMBER",type:"number",default:2,label:"Number of input ports",min:2,max:32,validate:function(e){return e<this.min?"Minimum input ports is ".concat(this.min):e>this.max?"Maximum input ports is ".concat(this.max):null}},{name:"MULTIPLE_INPUT_BEHAVIOR",type:"select",default:"ONE",label:"Multiple input behavior",options:[{label:"Detect when only one input is on",value:"ONE"},{label:"Detect when an odd number of inputs are on",value:"ODD"}]}],model:function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"initialize",value:function(e){this.behavior=e.MULTIPLE_INPUT_BEHAVIOR;for(var t=parseInt(e.INPUT_PORTS_NUMBER,10),n=0;n<t;n+=1)this.addInputPort("in".concat(n));this.addOutputPort("out")}},{key:"step",value:function(e){var t=Object.values(e).filter((function(e){return 1===e})).length;switch(this.behavior){case"ONE":return{out:1===t?1:0};case"ODD":return{out:t%2===1?1:0};default:return{}}}}]),n}(X),widget:gn,icon:hn}),cn,Je,Ft,ot,mt],bn=vn,yn=vn.reduce((function(e,t){var n=e.find((function(e){return e.name===t.group}));return n?n.components.push(t):e.push({name:t.group,components:[t]}),e}),[]);function En(){var e=Object(G.a)(["\n  border: none;\n  border-radius: 100%;\n\n  background: orange;\n  box-shadow: inset 0 0 10px #ff8d00;\n\n  width: 60px;\n  height: 60px;\n  margin: 16px;\n\n  font-size: 2em;\n  line-height: 1em;\n  color: white;\n\n  transition: 0.5s ease-in-out;\n\n  &:disabled {\n    opacity: 10%;\n    cursor: not-allowed;\n    background: gray;\n    box-shadow: inset 0 0 10px black;\n  }\n"]);return En=function(){return e},e}function kn(){var e=Object(G.a)(["\n  position: absolute;\n  bottom: 0;\n  right: 0;\n\n  z-index: 2;\n"]);return kn=function(){return e},e}var On=J.a.div(kn()),xn=J.a.button.attrs((function(e){var t=Object.assign({},e);return Object(v.a)({},t,{type:"button"})}))(En()),Pn=function(e){var t=e.handleClick,n=e.disabled;return a.a.createElement(On,{id:"component-select-button"},a.a.createElement(xn,{onClick:t,disabled:n,"data-for":"tooltip","data-tip":"Add component...","data-place":"left"},"+"))};function jn(){var e=Object(G.a)(["\n  font-size: 14px;\n  color: #222;\n  padding: 16px;\n  border: 0;\n  background: transparent;\n  border-bottom: ",";\n\n  &:focus,\n  &:hover {\n    color: #6441a5;\n  }\n"]);return jn=function(){return e},e}function wn(){var e=Object(G.a)(["\n  position: absolute;\n  top: 50px;\n  transform: translateX(calc(17px + -50%));\n\n  display: flex;\n  flex-direction: column;\n\n  background: rgba(255, 255, 255, 0.6);\n  border: 1px solid #6441a5;\n  border-radius: 10px;\n  padding: 3px;\n\n  z-index: 3;\n"]);return wn=function(){return e},e}function Sn(){var e=Object(G.a)(["\n  background: rgba(255, 255, 255, 0.6);\n  border-radius: 50%;\n  border: 1px solid #6441a5;\n\n  width: 34px;\n  height: 34px;\n\n  margin: 5px;\n\n  color: #6441a5;\n  font-weight: bold;\n  font-size: 1.3em;\n\n  &:focus,\n  &:hover {\n    background: #6441a5;\n    border: 1px solid rgba(255, 255, 255, 0.6);\n    color: rgba(255, 255, 255, 0.6);\n  }\n"]);return Sn=function(){return e},e}function Cn(){var e=Object(G.a)(["\n  border: none;\n  border-radius: 5px;\n  background: ",";\n\n  color: white;\n  font-size: 1.2em;\n\n  min-width: 110px;\n  padding: 5px 20px;\n  margin: 5px;\n\n  transition: 0.5s ease-in-out;\n\n  &:disabled {\n    opacity: 10%;\n    cursor: not-allowed;\n    background: gray;\n  }\n"]);return Cn=function(){return e},e}function Mn(){var e=Object(G.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n\n  z-index: 2;\n\n  display: flex;\n  align-items: center;\n"]);return Mn=function(){return e},e}var Ln=J.a.div(Mn()),zn=J.a.button.attrs((function(e){var t=Object.assign({},e);return Object(v.a)({},t,{type:"button"})}))(Cn(),(function(e){switch(e.color){case"green":return"#07d26b";case"orange":return"orange";default:return"gray"}})),Tn=J.a.button.attrs((function(e){var t=Object.assign({},e);return Object(v.a)({},t,{type:"button"})}))(Sn()),In=J.a.div(wn()),Bn=J.a.button(jn(),(function(e){return e.last?"none":"1px solid #6441a5"})),Dn=function(e){var t=e.handleClickSave,n=e.handleClickLoad,r=e.handleClickKeyboardShortcuts,o=e.handleClickRedoTour,c=e.handleClickAbout,l=e.disabled,u=Object(i.useRef)(),d=Object(i.useRef)(),f=Object(i.useState)(!1),p=Object(s.a)(f,2),m=p[0],g=p[1],h=function(){return g(!m)},v=function(e){d.current&&!d.current.contains(e.target)&&u.current&&!u.current.contains(e.target)&&h()};return Object(i.useEffect)((function(){return document.addEventListener("mousedown",v),function(){return document.removeEventListener("mousedown",v)}})),a.a.createElement(Ln,null,a.a.createElement(Tn,{id:"help-button",ref:u,onClick:h},a.a.createElement("span",null,"?")),m&&a.a.createElement(In,{ref:d},a.a.createElement(Bn,{onClick:function(){r(),h()}},"Keyboard shortcuts"),a.a.createElement(Bn,{onClick:function(){o(),h()}},"Redo the tour"),a.a.createElement(Bn,{onClick:function(){c(),h()},last:!0},"About")),a.a.createElement("div",{id:"save-load-buttons"},a.a.createElement(zn,{color:"green",onClick:t,disabled:l},"Save"),a.a.createElement(zn,{color:"orange",onClick:n,disabled:l},"Load")))},An=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"gray":i;return a.a.createElement("svg",{width:n,height:n,fill:r,viewBox:"100 100 300 300"},a.a.createElement("polygon",{points:"352,128.4 319.7,96 160,256 160,256 160,256 319.7,416 352,383.6 224.7,256 "}))},Nn=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"gray":i;return a.a.createElement("svg",{width:n,height:n,fill:r,viewBox:"0 0 48 48"},a.a.createElement("polygon",{points:"5,30.9 8.1,34 24,18.1 39.9,34 43,30.9 24,12"}))},Rn=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"gray":i;return a.a.createElement("svg",{width:n,height:n,fill:r,viewBox:"0 0 60.963 60.842"},a.a.createElement("path",{d:"M59.595,52.861L37.094,30.359L59.473,7.98c1.825-1.826,1.825-4.786,0-6.611  c-1.826-1.825-4.785-1.825-6.611,0L30.483,23.748L8.105,1.369c-1.826-1.825-4.785-1.825-6.611,0c-1.826,1.826-1.826,4.786,0,6.611  l22.378,22.379L1.369,52.861c-1.826,1.826-1.826,4.785,0,6.611c0.913,0.913,2.109,1.369,3.306,1.369s2.393-0.456,3.306-1.369  l22.502-22.502l22.501,22.502c0.913,0.913,2.109,1.369,3.306,1.369s2.393-0.456,3.306-1.369  C61.42,57.647,61.42,54.687,59.595,52.861z"}))},Hn=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"gray":i;return a.a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2"},a.a.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),a.a.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))},Fn=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"gray":i;return a.a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2"},a.a.createElement("circle",{cx:"6",cy:"6",r:"3"}),a.a.createElement("circle",{cx:"6",cy:"18",r:"3"}),a.a.createElement("line",{x1:"20",y1:"4",x2:"8.12",y2:"15.88"}),a.a.createElement("line",{x1:"14.47",y1:"14.48",x2:"20",y2:"20"}),a.a.createElement("line",{x1:"8.12",y1:"8.12",x2:"12",y2:"12"}))},Un=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"gray":i;return a.a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2"},a.a.createElement("polyline",{points:"3 6 5 6 21 6"}),a.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),a.a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),a.a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))},Wn=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"gray":i;return a.a.createElement("svg",{width:n,height:18*n/24,viewBox:"0 0 24 18",fill:"none",stroke:"none",strokeWidth:"2"},a.a.createElement("g",{transform:"translate(-678.000000, -2727.000000)"},a.a.createElement("g",{transform:"translate(100.000000, 2626.000000)"},a.a.createElement("g",{transform:"translate(578.000000, 98.000000)"},a.a.createElement("g",{transform:"translate(0.000000, 0.000000)"},a.a.createElement("polygon",{points:"0 0 24 0 24 24 0 24"}),a.a.createElement("path",{d:"M15,8 C14.45,8 14,8.45 14,9 L14,11 L12,11 C11.45,11 11,11.45 11,12 C11,12.55 11.45,13 12,13 L14,13 L14,15 C14,15.55 14.45,16 15,16 C15.55,16 16,15.55 16,15 L16,13 L18,13 C18.55,13 19,12.55 19,12 C19,11.45 18.55,11 18,11 L16,11 L16,9 C16,8.45 15.55,8 15,8 Z M2,12 C2,9.42 3.4,7.17 5.48,5.96 C5.8,5.77 6.01,5.45 6.01,5.08 C6.01,4.31 5.17,3.83 4.5,4.22 C1.82,5.78 0,8.68 0,12 C0,15.32 1.82,18.22 4.5,19.78 C5.17,20.17 6.01,19.69 6.01,18.92 C6.01,18.55 5.8,18.23 5.48,18.04 C3.4,16.83 2,14.58 2,12 Z M15,3 C10.04,3 6,7.04 6,12 C6,16.96 10.04,21 15,21 C19.96,21 24,16.96 24,12 C24,7.04 19.96,3 15,3 Z M15,19 C11.14,19 8,15.86 8,12 C8,8.14 11.14,5 15,5 C18.86,5 22,8.14 22,12 C22,15.86 18.86,19 15,19 Z",fill:r}))))))},_n=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"gray":i;return a.a.createElement("svg",{width:n,height:n,fill:r,viewBox:"0 0 512.001 512.001"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{d:"M481,371c11.046,0,20-8.954,20-20v-92c0-33.084-26.916-60-60-60h-39v-79c0-44.112-35.888-80-80-80h-47.533 c-7.739-23.749-29.864-40-55.16-40h-25.614c-25.296,0-47.421,16.251-55.16,40H91c-44.112,0-80,35.888-80,80v312 c0,44.112,35.888,80,80,80h88c11.046,0,20-8.954,20-20c0-11.046-8.954-20-20-20H91c-22.056,0-40-17.944-40-40V120 c0-22.056,17.944-40,40-40h2v59c0,11.046,8.954,20,20,20h189c11.046,0,20-8.954,20-20V80c22.056,0,40,17.944,40,40v79h-65.007 C263.914,199,237,225.913,237,258.993v193.015c0,33.08,26.916,59.993,60.01,59.993L441,511.926c33.084,0,60-26.913,60-59.992 c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20c0,11.024-8.972,19.992-20.01,19.992L297,472c-11.028,0-20-8.969-20-19.993 V258.993c0-11.024,8.969-19.993,19.993-19.993H441c11.028,0,20,8.972,20,20v92C461,362.046,469.955,371,481,371z M282,119H133V80 h21c9.177,0,17.177-6.246,19.403-15.149l2.798-11.194C178.211,45.616,185.404,40,193.693,40h25.614 c8.289,0,15.481,5.616,17.492,13.657l2.798,11.194C241.823,73.754,249.823,80,259,80h23V119z"}),a.a.createElement("path",{d:"M401,279h-64c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h64c11.046,0,20-8.954,20-20 C421,287.954,412.047,279,401,279z"}),a.a.createElement("path",{d:"M401,349h-64c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h64c11.046,0,20-8.954,20-20 C421,357.954,412.047,349,401,349z"})))))},Kn=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"#ffb100":i;return a.a.createElement("svg",{width:n,height:n,fill:r,viewBox:"0 0 512 512"},a.a.createElement("path",{d:"M395,512a73.14,73.14,0,0,1-73.14-73.14V73.14a73.14,73.14,0,1,1,146.29,0V438.86A73.14,73.14,0,0,1,395,512Z"}),a.a.createElement("path",{d:"M117,512a73.14,73.14,0,0,1-73.14-73.14V73.14a73.14,73.14,0,1,1,146.29,0V438.86A73.14,73.14,0,0,1,117,512Z"}))},Xn=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"#008000":i;return a.a.createElement("svg",{width:n,height:n,fill:r,viewBox:"0 0 512 512"},a.a.createElement("path",{d:"M60.54,512c-17.06,0-30.43-13.86-30.43-31.56V31.55C30.12,13.86,43.48,0,60.55,0A32.94,32.94,0,0,1,77,4.52L465.7,229c10.13,5.85,16.18,16,16.18,27s-6,21.2-16.18,27L77,507.48A32.92,32.92,0,0,1,60.55,512Z"}))},Yn=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"gray":i;return a.a.createElement("svg",{width:n,height:n,viewBox:"0 0 512 512",fill:r},a.a.createElement("path",{d:"m431 481c0 11.046-8.954 20-20 20h-66c-11.046 0-20-8.954-20-20s8.954-20 20-20h66c11.046 0 20 8.954 20 20zm63.358-352.994-112.284-111.215c-7.848-7.773-20.511-7.713-28.284.135s-7.712 20.511.135 28.284l106.808 105.79h-285.733c-96.495 0-175 78.505-175 175s78.505 175 175 175h69c11.046 0 20-8.954 20-20s-8.954-20-20-20h-69c-74.439 0-135-60.561-135-135s60.561-135 135-135h284.836l-105.037 105.917c-7.778 7.843-7.725 20.506.118 28.284 3.9 3.868 8.992 5.799 14.083 5.799 5.146 0 10.292-1.975 14.202-5.917l111.225-112.157c11.332-11.332 17.573-26.4 17.573-42.426s-6.241-31.094-17.642-42.494z"}))},Vn=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"gray":i;return a.a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2"},a.a.createElement("circle",{cx:"12",cy:"12",r:"3"}),a.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))},Zn=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"#c53838":i;return a.a.createElement("svg",{width:n,height:n,fill:r,viewBox:"0 0 512 512"},a.a.createElement("path",{d:"M 65.249771,0 A 65.248738,65.376306 0 0 0 0.413662,58.057582 h -0.18732 v 1.884685 A 65.248738,65.376306 0 0 0 0,65.377342 65.248738,65.376306 0 0 0 0.226342,70.796781 V 441.18757 A 65.248738,65.376306 0 0 0 0,446.62268 a 65.248738,65.376306 0 0 0 0.226342,5.41161 v 2.88566 H 0.530738 A 65.248738,65.376306 0 0 0 65.249771,512 a 65.248738,65.376306 0 0 0 2.44297,-0.0468 H 444.31507 a 65.248738,65.376306 0 0 0 2.43514,0.0468 65.248738,65.376306 0 0 0 2.44297,-0.0468 h 0.56977 v -0.024 a 65.248738,65.376306 0 0 0 61.70628,-57.00966 h 0.0312 v -0.22662 a 65.248738,65.376306 0 0 0 0.49952,-8.07049 65.248738,65.376306 0 0 0 -0.49952,-8.01579 V 67.011775 a 65.248738,65.376306 0 0 0 0.0234,-1.634433 65.248738,65.376306 0 0 0 -0.0234,-1.681351 v -5.638409 h -0.38247 A 65.248738,65.376306 0 0 0 456.2645,0.77420532 V 0 H 446.40678 446.2741 65.374651 Z"}))},Gn=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"gray":i;return a.a.createElement("svg",{width:n,height:n,viewBox:"0 0 512 512",fill:r},a.a.createElement("path",{d:"m 81,481 c 0,11.046 8.954,20 20,20 h 66 c 11.046,0 20,-8.954 20,-20 0,-11.046 -8.954,-20 -20,-20 h -66 c -11.046,0 -20,8.954 -20,20 z M 17.642,128.006 129.926,16.791 c 7.848,-7.773 20.511,-7.713 28.284,0.135 7.773,7.848 7.712,20.511 -0.135,28.284 L 51.267,151 H 337 c 96.495,0 175,78.505 175,175 0,96.495 -78.505,175 -175,175 h -69 c -11.046,0 -20,-8.954 -20,-20 0,-11.046 8.954,-20 20,-20 h 69 c 74.439,0 135,-60.561 135,-135 0,-74.439 -60.561,-135 -135,-135 H 52.164 l 105.037,105.917 c 7.778,7.843 7.725,20.506 -0.118,28.284 -3.9,3.868 -8.992,5.799 -14.083,5.799 -5.146,0 -10.292,-1.975 -14.202,-5.917 L 17.573,212.926 C 6.241,201.594 0,186.526 0,170.5 0,154.474 6.241,139.406 17.642,128.006 Z"}))},Jn=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"gray":i;return a.a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2"},a.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),a.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),a.a.createElement("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),a.a.createElement("line",{x1:"8",y1:"11",x2:"14",y2:"11"}))},qn=function(e){var t=e.size,n=void 0===t?16:t,i=e.color,r=void 0===i?"gray":i;return a.a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2"},a.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),a.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),a.a.createElement("line",{x1:"8",y1:"11",x2:"14",y2:"11"}))};function Qn(){var e=Object(G.a)(["\n  background: none;\n  border: none;\n\n  font-size: 1.2em;\n\n  min-width: 75px;\n  min-height: 60px;\n\n  &:disabled {\n    & > svg {\n      fill: #bfbfbf;\n    }\n  }\n"]);return Qn=function(){return e},e}function $n(){var e=Object(G.a)(["\n  position: absolute;\n  bottom: 16px;\n  left: 50%;\n  transform: translate(-50%, 0);\n\n  background: rgb(224, 224, 224);\n  background: linear-gradient(\n    0deg,\n    rgba(224, 224, 224, 1) 0%,\n    rgba(255, 255, 255, 1) 100%\n  );\n\n  border: 1px solid gray;\n  border-radius: 16px;\n\n  z-index: 2;\n\n  & > button {\n    border-right: 1px solid gray;\n    &:last-child {\n      border-right: none;\n    }\n  }\n"]);return $n=function(){return e},e}var ei=J.a.div($n()),ti=J.a.button.attrs((function(e){var t=Object.assign({},e);return Object(v.a)({},t,{type:"button"})}))(Qn()),ni=function(e){var t=e.state,n=e.handleClickStart,i=e.handleClickPause,r=e.handleClickStop;return a.a.createElement(ei,{id:"simulation-control-buttons"},a.a.createElement(ti,{onClick:n,disabled:"started"===t,"data-for":"tooltip","data-tip":"Start simulation"},a.a.createElement(Xn,null)),a.a.createElement(ti,{onClick:i,disabled:"paused"===t||"stopped"===t,"data-for":"tooltip","data-tip":"Pause simulation"},a.a.createElement(Kn,null)),a.a.createElement(ti,{onClick:r,disabled:"stopped"===t,"data-for":"tooltip","data-tip":"Stop simulation"},a.a.createElement(Zn,null)))};function ii(){var e=Object(G.a)(["\n  width: 60vw;\n  height: 80vh;\n\n  max-width: 600px;\n  max-height: 800px;\n\n  background: white;\n\n  border: 1px solid black;\n  border-radius: 25px;\n\n  padding: 16px;\n\n  z-index: 4;\n"]);return ii=function(){return e},e}function ai(){var e=Object(G.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  z-index: 3;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 100vw;\n  height: 100vh;\n\n  background: rgba(0, 0, 0, 0.75);\n"]);return ai=function(){return e},e}var ri=J.a.div(ai()),oi=J.a.div(ii()),ci=function(e){var t=e.children;return a.a.createElement(ri,null,a.a.createElement(oi,null,t))},li=n(120);function ui(){var e=Object(G.a)(["\n  position: absolute;\n\n  flex-shrink: 0;\n\n  border: 1px solid gray;\n  border-radius: 25px;\n  width: 50px;\n  height: 50px;\n\n  ","\n\n  background: none;\n\n  :hover {\n    background: rgba(0, 0, 0, 0.05);\n    cursor: pointer;\n  }\n"]);return ui=function(){return e},e}function si(){var e=Object(G.a)(["\n  padding-top: 32px;\n"]);return si=function(){return e},e}function di(){var e=Object(G.a)(["\n  flex-grow: 1;\n  font-size: 1.2em;\n\n  margin: 0;\n\n  align-self: center;\n  text-align: center;\n"]);return di=function(){return e},e}function fi(){var e=Object(G.a)(["\n  flex-grow: 1;\n  font-size: 1.5em;\n\n  margin: 0;\n\n  align-self: center;\n  text-align: center;\n"]);return fi=function(){return e},e}function pi(){var e=Object(G.a)(["\n  position: relative;\n\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-content: space-between;\n\n  height: 50px;\n"]);return pi=function(){return e},e}var mi=J.a.div(pi()),gi=J.a.h1(fi()),hi=J.a.h2(di()),vi=J.a.div(si()),bi=J.a.button(ui(),(function(e){return e.left?"left: 0;":"right: 0;"}));function yi(){var e=Object(G.a)(["\n  font-size: 0.8em;\n  color: #c80a0a;\n\n  background: white;\n\n  position: relative;\n  bottom: 0.7em;\n\n  width: max-content;\n  padding: 0 8px;\n  margin: -15px auto auto auto;\n  transform: translateY(15px);\n"]);return yi=function(){return e},e}function Ei(){var e=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 16px;\n\n  label {\n    font-size: 0.8em;\n    font-weight: bold;\n    text-transform: uppercase;\n    color: ",";\n\n    background: #eee;\n    border: 1px solid ",";\n    border-radius: 8px;\n\n    position: relative;\n    top: 0.8em;\n\n    width: max-content;\n    margin-left: 15px;\n    padding: 0 8px;\n  }\n\n  select,\n  input {\n    background: white;\n    border: 1px solid ",";\n    border-radius: 25px;\n\n    font-size: 1.2em;\n\n    padding: 10px 0 5px 16px;\n  }\n"]);return Ei=function(){return e},e}var ki=J.a.div(Ei(),(function(e){return e.error?"#710606":"inherit"}),(function(e){return e.error?"#c80a0a":"gray"}),(function(e){return e.error?"#c80a0a":"gray"})),Oi=function(e){var t=e.field,n=e.name,i=e.label,r=e.componentType,o=e.type,c=e.innerRef,l=e.options,u=void 0===l?[]:l,s=e.step,d=e.min,f=e.max;switch(o){case"select":return a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{htmlFor:n},i),a.a.createElement("select",Object.assign({id:t.name,ref:c},t),u.map((function(e){return a.a.createElement("option",{value:e.value,key:e.value},e.label)}))));case"number":return a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{htmlFor:n},i),a.a.createElement("input",Object.assign({id:t.name,ref:c},t,{step:s,min:d,max:f,type:"number"})));case"text":return a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{htmlFor:n},i),a.a.createElement("input",Object.assign({id:t.name,ref:c},t,{type:"text"})));default:throw new Error("[logossim] Invalid configuration type for ".concat(r,": ").concat(o))}},xi=J.a.div(yi()),Pi=function(e){var t=e.field.name,n=e.form.errors[t];return a.a.createElement(ki,{error:n},a.a.createElement(Oi,e),n&&a.a.createElement(xi,null,n))};function ji(){var e=Object(G.a)(["\n  border: 1px dashed var(--value-error);\n  border-radius: 5px;\n  width: 30px;\n  height: 30px;\n"]);return ji=function(){return e},e}var wi={registerListener:function(){},getCanvas:function(){},getPortCoords:function(){return{getWidth:function(){},getHeight:function(){},getTopLeft:function(){}}},getModel:function(){return{isLocked:function(){return!1}}}},Si=function(e,t){return t?"":e?"Check form errors":"Drag me!"},Ci=J.a.div(ji()),Mi=function(e){var t=e.component,n=t.type,i=t.Widget,r=t.Model,o=e.configurations,c=e.handleClose,l=e.error,u=e.disabled;return a.a.createElement("div",{draggable:!l&&!u,onDragStart:function(e){e.dataTransfer.setDragImage(e.currentTarget.children[0],0,0),e.dataTransfer.setData("component",JSON.stringify({type:n,configurations:o})),requestAnimationFrame((function(){g.a.hide(),c()}))},"data-for":"tooltip","data-tip":Si(l,u),"data-place":"bottom"},l?a.a.createElement(Ci,null):a.a.createElement(i,{engine:wi,model:new r(n,o)}))};function Li(){var e=Object(G.a)(["\n  border: none;\n  border-radius: 5px;\n  background: #07d26b;\n\n  color: white;\n  font-size: 1.2em;\n\n  width: 100%;\n  padding: 5px 20px;\n  margin: 5px;\n\n  :disabled {\n    background: #d22307;\n    cursor: not-allowed;\n  }\n"]);return Li=function(){return e},e}function zi(){var e=Object(G.a)(["\n  font-size: 0.8em;\n  font-style: italic;\n  align-self: center;\n  text-align: right;\n  margin-right: 10px;\n"]);return zi=function(){return e},e}function Ti(){var e=Object(G.a)(["\n  display: flex;\n"]);return Ti=function(){return e},e}function Ii(){var e=Object(G.a)(["\n  height: 375px;\n  overflow-y: auto;\n"]);return Ii=function(){return e},e}function Bi(){var e=Object(G.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  height: 200px;\n  margin-bottom: 32px;\n\n  box-shadow: ",";\n\n  background-image: ",";\n  background-size: 45px 45px;\n  border-radius: 25px;\n\n  overflow: hidden;\n"]);return Bi=function(){return e},e}var Di=J.a.div(Bi(),(function(e){return"inset 0 0 20px rgba(".concat(e.error?255:0,", 0, 0, 0.3)")}),(function(e){return"linear-gradient(\n      to right,\n      rgba(".concat(e.error?255:0,", 0, 0, 0.1) 1px,\n      transparent 1px,\n      transparent 15px,\n      rgba(").concat(e.error?255:0,", 0, 0, 0.05) 15px,\n      transparent 16px,\n      transparent 30px,\n      rgba(").concat(e.error?255:0,", 0, 0, 0.05) 30px,\n      transparent 31px\n    ),\n    linear-gradient(\n      to bottom,\n      rgba(").concat(e.error?255:0,", 0, 0, 0.1) 1px,\n      transparent 1px,\n      transparent 15px,\n      rgba(").concat(e.error?255:0,", 0, 0, 0.05) 15px,\n      transparent 16px,\n      transparent 30px,\n      rgba(").concat(e.error?255:0,", 0, 0, 0.05) 30px,\n      transparent 31px\n    )")})),Ai=J.a.div(Ii()),Ni=J.a.div(Ti()),Ri=J.a.span(zi()),Hi=J.a.button.attrs((function(e){var t=Object.assign({},e);return Object(v.a)({},t,{type:"submit"})}))(Li()),Fi=function(e){return Object.fromEntries(e.configurations.map((function(e){return[e.name,e.default]})))},Ui=function(e){var t=e.editMode,n=e.component,r=e.handleClose,o=e.handleBack,c=e.handleSubmit,l=Object(i.useRef)(),u=Object(i.useRef)();return Object(i.useEffect)((function(){l.current?l.current.focus():u.current.focus()})),Object(i.useEffect)(g.a.rebuild),a.a.createElement(a.a.Fragment,null,a.a.createElement(mi,null,!t&&a.a.createElement(bi,{left:!0,onClick:o,"data-for":"tooltip","data-tip":"Go back...","data-place":"right"},a.a.createElement(An,null)),a.a.createElement(gi,null,t?"Edit":"Configure"," component"),a.a.createElement(bi,{right:!0,onClick:r,"data-for":"tooltip","data-tip":"Close","data-place":"left"},a.a.createElement(Rn,null))),a.a.createElement(vi,null,a.a.createElement(li.c,{initialValues:Fi(n),onSubmit:function(e){c(null,{type:n.type,configurations:e}),r()}},(function(e){var i=e.values,o=e.isValid;return a.a.createElement(li.b,null,a.a.createElement(Di,{error:!o},a.a.createElement(Mi,{component:n,configurations:i,handleClose:r,error:!o,disabled:t})),a.a.createElement(Ai,{autoComplete:"off"},n.configurations.map((function(e,t){return a.a.createElement(li.a,Object.assign({key:e.name,component:Pi,innerRef:0===t?l:null},e,{validate:e.validate?function(t){return e.validate(t,i)}:null}))}))),a.a.createElement(Ni,null,!t&&a.a.createElement(Ri,null,"(hint: you can also drag the component)"),a.a.createElement(Hi,{disabled:!o,ref:u},function(e,t){return e?t?"Edit component":"Add to circuit":"Check form errors"}(o,t))))}))))},Wi=function(e){var t=e.isOpen,n=e.components,r=e.component,o=e.handleClose,c=e.handleComponentEdit,l=Object(i.useCallback)((function(e){return function(e,t){"Escape"===e.code&&t()}(e,o)}),[o]);if(Object(i.useEffect)((function(){return window.addEventListener("keydown",l),function(){return window.removeEventListener("keydown",l)}}),[l]),!t)return null;var u=n.find((function(e){return e.type===r.options.type})),s=Object(v.a)({},u,{configurations:u.configurations.map((function(e){return Object(v.a)({},e,{default:r.configurations[e.name]})}))});return a.a.createElement(ci,null,a.a.createElement(Ui,{editMode:!0,handleClose:o,handleSubmit:function(e,t){var n=t.configurations;return c(r,n)},component:s}))};function _i(){var e=Object(G.a)(["\n  margin-right: 16px;\n"]);return _i=function(){return e},e}function Ki(){var e=Object(G.a)(["\n  font-weight: normal;\n  font-size: 1.2em;\n"]);return Ki=function(){return e},e}function Xi(){var e=Object(G.a)(["\n  display: flex;\n  align-items: center;\n\n  padding: 8px;\n\n  background: rgba(0, 0, 0, 0.05);\n  border: 1px solid gray;\n  border-radius: 5px;\n\n  :hover {\n    background: rgba(0, 0, 0, 0.1);\n    border-style: dashed;\n  }\n"]);return Xi=function(){return e},e}function Yi(){var e=Object(G.a)(["\n  display: ",";\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 8px;\n"]);return Yi=function(){return e},e}function Vi(){var e=Object(G.a)(["\n  background: none;\n  border: none;\n  width: 50px;\n\n  transform: ",";\n"]);return Vi=function(){return e},e}function Zi(){var e=Object(G.a)(["\n  flex-grow: 1;\n  align-self: center;\n\n  margin: 16px;\n  border-top: 1px solid black;\n"]);return Zi=function(){return e},e}function Gi(){var e=Object(G.a)(["\n  font-weight: bold;\n  font-size: 1.3em;\n"]);return Gi=function(){return e},e}function Ji(){var e=Object(G.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return Ji=function(){return e},e}function qi(){var e=Object(G.a)(["\n  margin-bottom: 32px;\n"]);return qi=function(){return e},e}var Qi=J.a.div(qi()),$i=J.a.div(Ji()),ea=J.a.div(Gi()),ta=J.a.hr(Zi()),na=J.a.button(Vi(),(function(e){return e.isOpen?"rotate(180deg)":"none"})),ia=J.a.div(Yi(),(function(e){return e.isOpen?"grid":"none"})),aa=J.a.button(Xi()),ra=J.a.h2(Ki()),oa=J.a.div(_i()),ca=function(e){var t=e.name,n=e.components,r=e.handleComponentSelect,o=Object(i.useState)(!0),c=Object(s.a)(o,2),l=c[0],u=c[1];return a.a.createElement(Qi,null,a.a.createElement($i,{onClick:function(){return u(!l)}},a.a.createElement(ea,null,t),a.a.createElement(ta,null),a.a.createElement(na,{left:!0,isOpen:l,onClick:function(){return u(!l)}},a.a.createElement(Nn,null))),a.a.createElement(ia,{isOpen:l},n.map((function(e){return a.a.createElement(aa,{onClick:function(){return r(e)},key:e.name,"data-for":"tooltip","data-tip":e.description},a.a.createElement(oa,null,a.a.createElement(e.Icon,null)),a.a.createElement(ra,null,e.name))}))))};function la(){var e=Object(G.a)(["\n  flex-grow: 1;\n\n  padding: 10px;\n  margin-right: 60px;\n  font-size: 1.5em;\n\n  border-radius: 25px;\n  border: 1px solid gray;\n\n  ::placeholder {\n    font-weight: 300;\n    color: #cfcfcf;\n  }\n"]);return la=function(){return e},e}var ua=J.a.input(la()),sa=function(e){var t=e.groups,n=e.handleComponentSelect,r=e.handleClose;Object(i.useEffect)(g.a.rebuild);var o=Object(i.useState)(t),c=Object(s.a)(o,2),l=c[0],u=c[1],d=Object(i.useState)(""),f=Object(s.a)(d,2),p=f[0],m=f[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(mi,null,a.a.createElement(ua,{autoFocus:!0,placeholder:"Search components...",value:p,onChange:function(e){return function(e){if(m(e),e){var n=new RegExp("".concat(e,".*"),"i"),i=t.map((function(e){return e.components.some((function(e){return e.name.match(n)}))?Object(v.a)({},e,{components:e.components.filter((function(e){return e.name.match(n)}))}):null})).filter((function(e){return null!=e}));u(i)}else u(t)}(e.target.value)},onKeyDown:function(e){return function(e){"Escape"===e&&(m(""),u(t)),"Enter"===e&&p&&l.length>0&&l[0].components.length>0&&n(l[0].components[0])}(e.key)}}),a.a.createElement(bi,{right:!0,onClick:r,"data-for":"tooltip","data-tip":"Close","data-place":"left"},a.a.createElement(Rn,null))),a.a.createElement(vi,null,l.map((function(e){var t=e.name,i=e.components;return a.a.createElement(ca,{name:t,components:i,handleComponentSelect:n,key:t})}))))},da=function(e){var t=e.isOpen,n=e.groups,r=e.handleClose,o=e.handleComponentDrop,c=Object(i.useState)(null),l=Object(s.a)(c,2),u=l[0],d=l[1],f=Object(i.useCallback)((function(e){return function(e,t){var n=e.code,i=t.handleClose,a=t.setSelectedComponent;"Escape"===n&&(i(),a(null))}(e,{handleClose:r,setSelectedComponent:d})}),[r]);return Object(i.useEffect)((function(){return window.addEventListener("keydown",f),function(){return window.removeEventListener("keydown",f)}}),[f]),t?a.a.createElement(ci,null,u?a.a.createElement(Ui,{handleClose:function(){r(),d(null)},handleSubmit:o,handleBack:function(){return d(null)},component:u}):a.a.createElement(sa,{handleClose:r,handleComponentSelect:d,groups:n})):null};function fa(){var e=Object(G.a)(["\n  display: inline-flex;\n  align-items: center;\n\n  height: ","px;\n  padding: 0 ","px;\n  margin: 2px ","px;\n\n  font-size: ","px;\n  font-family: monospace;\n  color: #000000c4;\n\n  background: #ececec;\n  border-radius: 4px;\n  border: 1px solid #ffffff17;\n  box-shadow: inset 0 0 ","px #0000000a;\n"]);return fa=function(){return e},e}var pa=J.a.span(fa(),(function(e){return e.size}),(function(e){return e.size/4}),(function(e){return e.size/8}),(function(e){return e.size/2}),(function(e){return e.size/4})),ma=function(e){var t=e.children,n=e.size,i=void 0===n?16:n;return a.a.createElement(pa,{size:i},t)};function ga(){var e=Object(G.a)(["\n  display: flex;\n  align-items: center;\n\n  width: 16px;\n  height: 16px;\n  margin-right: 16px;\n"]);return ga=function(){return e},e}var ha=J.a.div(ga());function va(){var e=Object(G.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n  margin-left: 8px;\n"]);return va=function(){return e},e}var ba=J.a.div(va()),ya=function(e){var t=e.duplicateSelected,n=e.cutSelected,i=e.copySelected,r=e.pasteSelected,o=e.deleteSelected,c=e.undo,l=e.redo,u=e.zoomIn,s=e.zoomOut,d=e.configureComponent;return a.a.createElement(Y.Menu,{id:"component"},a.a.createElement(Y.Item,{onClick:t},a.a.createElement(ha,null,a.a.createElement(Wn,null)),"Duplicate",a.a.createElement(ba,null,a.a.createElement(ma,null,"CTRL"),a.a.createElement(ma,null,"D"))),a.a.createElement(Y.Item,{onClick:n},a.a.createElement(ha,null,a.a.createElement(Fn,null)),"Cut",a.a.createElement(ba,null,a.a.createElement(ma,null,"CTRL"),a.a.createElement(ma,null,"X"))),a.a.createElement(Y.Item,{onClick:i},a.a.createElement(ha,null,a.a.createElement(Hn,null)),"Copy",a.a.createElement(ba,null,a.a.createElement(ma,null,"CTRL"),a.a.createElement(ma,null,"C"))),a.a.createElement(Y.Item,{onClick:r},a.a.createElement(ha,null,a.a.createElement(_n,null)),"Paste",a.a.createElement(ba,null,a.a.createElement(ma,null,"CTRL"),a.a.createElement(ma,null,"V"))),a.a.createElement(Y.Item,{onClick:o},a.a.createElement(ha,null,a.a.createElement(Un,null)),"Delete",a.a.createElement(ba,null,a.a.createElement(ma,null,"Delete"))),a.a.createElement(Y.Separator,null),a.a.createElement(Y.Item,{onClick:u},a.a.createElement(ha,null,a.a.createElement(Jn,null)),"Zoom in"),a.a.createElement(Y.Item,{onClick:s},a.a.createElement(ha,null,a.a.createElement(qn,null)),"Zoom out"),a.a.createElement(Y.Separator,null),a.a.createElement(Y.Item,{onClick:c},a.a.createElement(ha,null,a.a.createElement(Gn,null)),"Undo",a.a.createElement(ba,null,a.a.createElement(ma,null,"CTRL"),a.a.createElement(ma,null,"Z"))),a.a.createElement(Y.Item,{onClick:l},a.a.createElement(ha,null,a.a.createElement(Yn,null)),"Redo",a.a.createElement(ba,null,a.a.createElement(ma,null,"CTRL"),a.a.createElement(ma,null,"SHIFT"),a.a.createElement(ma,null,"Z"))),a.a.createElement(Y.Separator,null),a.a.createElement(Y.Item,{onClick:function(e){var t=e.props;return d(t)}},a.a.createElement(ha,null,a.a.createElement(Vn,null)),"Edit configurations...",a.a.createElement(ba,null,a.a.createElement(ma,null,"CTRL"),a.a.createElement(ma,null,"E"))))},Ea=function(e){var t=e.pasteSelected,n=e.undo,i=e.redo,r=e.zoomIn,o=e.zoomOut;return a.a.createElement(Y.Menu,{id:"diagram"},a.a.createElement(Y.Item,{onClick:t},a.a.createElement(ha,null,a.a.createElement(_n,null)),"Paste",a.a.createElement(ba,null,a.a.createElement(ma,null,"CTRL"),a.a.createElement(ma,null,"V"))),a.a.createElement(Y.Separator,null),a.a.createElement(Y.Item,{onClick:r},a.a.createElement(ha,null,a.a.createElement(Jn,null)),"Zoom in"),a.a.createElement(Y.Item,{onClick:o},a.a.createElement(ha,null,a.a.createElement(qn,null)),"Zoom out"),a.a.createElement(Y.Separator,null),a.a.createElement(Y.Item,{onClick:n},a.a.createElement(ha,null,a.a.createElement(Gn,null)),"Undo",a.a.createElement(ba,null,a.a.createElement(ma,null,"CTRL"),a.a.createElement(ma,null,"Z"))),a.a.createElement(Y.Item,{onClick:i},a.a.createElement(ha,null,a.a.createElement(Yn,null)),"Redo",a.a.createElement(ba,null,a.a.createElement(ma,null,"CTRL"),a.a.createElement(ma,null,"SHIFT"),a.a.createElement(ma,null,"Z"))))},ka=(n(520),function(e){var t=e.duplicateSelected,n=e.cutSelected,i=e.copySelected,r=e.pasteSelected,o=e.deleteSelected,c=e.undo,l=e.redo,u=e.zoomIn,s=e.zoomOut,d=e.configureComponent;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ea,{pasteSelected:r,undo:c,redo:l,zoomIn:u,zoomOut:s}),a.a.createElement(ya,{duplicateSelected:t,cutSelected:n,copySelected:i,pasteSelected:r,deleteSelected:o,undo:c,redo:l,zoomIn:u,zoomOut:s,configureComponent:d}))}),Oa=n(118),xa=n.n(Oa),Pa=n(270);function ja(){var e=Object(G.a)(["\n  width: 80%;\n  margin: 24px;\n  border-color: white;\n"]);return ja=function(){return e},e}function wa(){var e=Object(G.a)(["\n  font-weight: bold;\n  font-size: 1.1em;\n  margin-top: -32px;\n"]);return wa=function(){return e},e}var Sa=J.a.span(wa()),Ca=J.a.hr(ja()),Ma=function(e){var t=e.isOpen,n=e.handleClose,r=Object(i.useCallback)((function(e){return function(e,t){"Escape"===e.code&&t()}(e,n)}),[n]);return Object(i.useEffect)((function(){return window.addEventListener("keydown",r),function(){return window.removeEventListener("keydown",r)}}),[r]),t?a.a.createElement(ci,null,a.a.createElement(mi,null,a.a.createElement(gi,null,"About"),a.a.createElement(bi,{right:!0,onClick:n,"data-for":"tooltip","data-tip":"Close","data-place":"left"},a.a.createElement(Rn,null))),a.a.createElement(vi,{style:{paddingTop:0,marginTop:16,overflowY:"auto",height:"calc(100% - 70px)",display:"flex",flexDirection:"column",alignItems:"center"}},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},a.a.createElement("img",{src:"".concat("https://renato-bohler.github.io/logossim","/social.png"),alt:"logossim's logo",style:{width:"75%"}}),a.a.createElement(Sa,null,"Version ",Pa.a)),a.a.createElement(Ca,null),a.a.createElement("div",{style:{margin:"0 32px"}},a.a.createElement("p",{style:{textAlign:"center"}},"If you want to know more about the project,"," ",a.a.createElement("a",{href:"https://github.com/renato-bohler/logossim",target:"_blank",rel:"noopener noreferrer"},"check us out on GitHub!")),a.a.createElement(xa.a,{type:"stargazers",namespace:"renato-bohler",repo:"logossim"}),a.a.createElement("p",{style:{textAlign:"center"}},a.a.createElement("strong",null,"You can help us")," make logossim better! If you know a little bit of web development, you can quite easily develop new components to the application.")),a.a.createElement(Ca,null),a.a.createElement("div",{style:{margin:"0 32px"}},a.a.createElement("p",{style:{textAlign:"center"}},"This is a project built by"," ",a.a.createElement("a",{href:"https://renato-bohler.github.io/",target:"_blank",rel:"noopener noreferrer"},"Renato B\xf6hler")," ","as an undegraduate thesis on Computer Engineering at"," ",a.a.createElement("a",{href:"http://www.utfpr.edu.br/",target:"_blank",rel:"noopener noreferrer"},"UTFPR"),".")))):null};function La(){var e=Object(G.a)(["\n  padding: 8px;\n\n  border: 1px solid #5d2eb526;\n  border-radius: 8px;\n"]);return La=function(){return e},e}function za(){var e=Object(G.a)(["\n  flex: 1;\n  margin: 8px 0;\n"]);return za=function(){return e},e}function Ta(){var e=Object(G.a)(["\n  display: flex;\n"]);return Ta=function(){return e},e}var Ia=J.a.div(Ta()),Ba=J.a.table(za()),Da=J.a.td(La()),Aa=function(e){var t=e.isOpen,n=e.handleClose,r=Object(i.useCallback)((function(e){return function(e,t){"Escape"===e.code&&t()}(e,n)}),[n]);return Object(i.useEffect)((function(){return window.addEventListener("keydown",r),function(){return window.removeEventListener("keydown",r)}}),[r]),t?a.a.createElement(ci,null,a.a.createElement(mi,null,a.a.createElement(gi,null,"Keyboard shortcuts"),a.a.createElement(bi,{right:!0,onClick:n,"data-for":"tooltip","data-tip":"Close","data-place":"left"},a.a.createElement(Rn,null))),a.a.createElement(vi,{style:{paddingTop:16,marginTop:16,overflowY:"auto",height:"calc(100% - 70px)"}},a.a.createElement("span",null,a.a.createElement("strong",null,"Note:")," some of the actions may have two shortcuts."),a.a.createElement(hi,{style:{marginTop:32}},"Circuit management"),a.a.createElement(Ia,null,a.a.createElement(Ba,null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement(Da,null,"Save"),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"CTRL"),a.a.createElement(ma,{size:32},"S")),a.a.createElement(Da,null)),a.a.createElement("tr",null,a.a.createElement(Da,null,"Load"),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"CTRL"),a.a.createElement(ma,{size:32},"L")),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"CTRL"),a.a.createElement(ma,{size:32},"SHIFT"),a.a.createElement(ma,{size:32},"S"))),a.a.createElement("tr",null,a.a.createElement(Da,null,"Undo"),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"CTRL"),a.a.createElement(ma,{size:32},"Z")),a.a.createElement(Da,null)),a.a.createElement("tr",null,a.a.createElement(Da,null,"Redo"),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"CTRL"),a.a.createElement(ma,{size:32},"SHIFT"),a.a.createElement(ma,{size:32},"Z")),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"CTRL"),a.a.createElement(ma,{size:32},"Y")))))),a.a.createElement(hi,{style:{marginTop:32}},"Component management"),a.a.createElement(Ia,null,a.a.createElement(Ba,null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement(Da,null,"Edit configurations"),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"CTRL"),a.a.createElement(ma,{size:32},"E"))),a.a.createElement("tr",null,a.a.createElement(Da,null,"Duplicate"),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"CTRL"),a.a.createElement(ma,{size:32},"D"))),a.a.createElement("tr",null,a.a.createElement(Da,null,"Delete"),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"Delete"))),a.a.createElement("tr",null,a.a.createElement(Da,null,"Copy"),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"CTRL"),a.a.createElement(ma,{size:32},"C"))),a.a.createElement("tr",null,a.a.createElement(Da,null,"Paste"),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"CTRL"),a.a.createElement(ma,{size:32},"V"))),a.a.createElement("tr",null,a.a.createElement(Da,null,"Cut"),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"CTRL"),a.a.createElement(ma,{size:32},"X")))))),a.a.createElement(hi,{style:{marginTop:32}},"Simulation control"),a.a.createElement(Ia,null,a.a.createElement(Ba,null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement(Da,null,"Play"),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"SPACE")),a.a.createElement(Da,null)),a.a.createElement("tr",null,a.a.createElement(Da,null,"Pause"),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"SPACE")),a.a.createElement(Da,null)),a.a.createElement("tr",null,a.a.createElement(Da,null,"Stop"),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"CTRL"),a.a.createElement(ma,{size:32},"SPACE")),a.a.createElement(Da,null,a.a.createElement(ma,{size:32},"ESC")))))))):null},Na=n(56),Ra=n(273),Ha=n.n(Ra),Fa=n(274),Ua=n.n(Fa),Wa=n(275),_a=n.n(Wa),Ka=n(276),Xa=n.n(Ka),Ya=180,Va=135,Za={id:"tour-circuit",locked:!1,offsetX:0,offsetY:0,zoom:100,gridSize:15,layers:[{id:"4d94cbed-1005-4dc6-b0e3-44d71dc14380",type:"diagram-links",isSvg:!0,transformed:!0,models:{"clock-out-link":{id:"clock-out-link",type:"link",selected:!1,source:"clock",sourcePort:"clock-port",target:"and",targetPort:"and-port-in0",points:[{id:"bb7c0935-a272-45ea-b47a-f9b79fa7fac3",type:"point",x:30,y:15},{id:"2f339615-1c6c-450c-9862-06742ed3893f",type:"point",x:60,y:15}],labels:[],bifurcations:[],bifurcationSource:null,bifurcationTarget:null,value:null},"and-out-link":{id:"and-out-link",type:"link",selected:!1,source:"and",sourcePort:"and-port-out",target:null,targetPort:null,points:[{id:"e4916002-7182-4866-9df7-46473e7de8bc",type:"point",x:150,y:45},{id:"d677077d-9750-4831-be02-566294c988b1",type:"point",x:180,y:45}],labels:[],bifurcations:[],bifurcationSource:null,bifurcationTarget:null,value:null},"button-out-link":{id:"button-out-link",type:"link",selected:!1,source:"button",sourcePort:"c241c69b-8e1a-45be-9982-4c96a537584f",target:"and",targetPort:"and-port-in1",points:[{id:"fbd656c6-6a36-4903-94b8-c715db34052d",type:"point",x:30,y:75},{id:"f70cce22-3d5d-4257-9916-b602da9a901b",type:"point",x:60,y:75}],labels:[],bifurcations:["not-in-link"],bifurcationSource:null,bifurcationTarget:null,value:null},"not-out-link":{id:"not-out-link",type:"link",selected:!1,source:"not",sourcePort:"not-port-out",target:null,targetPort:null,points:[{id:"ba84ed0f-78ed-43c2-93d8-cf907b91b5fd",type:"point",x:120,y:120},{id:"78a6e161-97c3-4a31-a46c-244469ac75ff",type:"point",x:180,y:120}],labels:[],bifurcations:[],bifurcationSource:null,bifurcationTarget:null,value:null},"not-in-link":{id:"not-in-link",type:"link",selected:!1,source:null,sourcePort:null,target:"not",targetPort:"589ba5d7-8c75-4c82-9068-a67c9b023f77",points:[{id:"fada8e3b-4b46-4a24-a7ec-e3ca3bab77ab",type:"point",x:45,y:75},{id:"f31e71e6-5d72-4f17-9af1-c23bfd257980",type:"point",x:45,y:120},{id:"2e747ee3-1c90-4e95-a40b-f221eb0710b3",type:"point",x:75,y:120}],labels:[],bifurcations:[],bifurcationSource:"button-out-link",bifurcationTarget:null,value:null}}},{id:"9d30c1dd-e474-45b1-ad88-6b7739678ef3",type:"diagram-nodes",isSvg:!1,transformed:!0,models:{clock:{id:"clock",type:"Clock",selected:!1,x:0,y:0,ports:[{id:"clock-port",type:"Port",selected:!1,x:25,y:10,name:"out",parentNode:"clock",links:["clock-out-link"],input:!1,value:null}],configurations:{FREQUENCY_HZ:.5,HIGH_DURATION:1,LOW_DURATION:1}},and:{id:"and",type:"And",selected:!1,x:60,y:0,ports:[{id:"and-port-in0",type:"Port",selected:!1,x:55,y:10,name:"in0",parentNode:"and",links:["clock-out-link"],input:!0,value:null},{id:"and-port-in1",type:"Port",selected:!1,x:55,y:70,name:"in1",parentNode:"and",links:["button-out-link"],input:!0,value:null},{id:"and-port-out",type:"Port",selected:!1,x:145,y:40,name:"out",parentNode:"and",links:["and-out-link"],input:!1,value:null}],configurations:{INPUT_PORTS_NUMBER:2}},button:{id:"button",type:"Button",selected:!1,x:0,y:60,ports:[{id:"c241c69b-8e1a-45be-9982-4c96a537584f",type:"Port",selected:!1,x:25,y:70,name:"out",parentNode:"button",links:["button-out-link"],input:!1,value:null}],configurations:{}},not:{id:"not",type:"Not",selected:!1,x:75,y:105,ports:[{id:"589ba5d7-8c75-4c82-9068-a67c9b023f77",type:"Port",selected:!1,x:70,y:115,name:"in",parentNode:"not",links:["not-in-link"],input:!0,value:null},{id:"not-port-out",type:"Port",selected:!1,x:115,y:115,name:"out",parentNode:"not",links:["not-out-link"],input:!1,value:null}],configurations:{}}}}]};function Ga(){var e=Object(G.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  animation: "," 1s ease-in-out infinite;\n  background-color: ",";\n  border: 1px solid rgba(42, 8, 69, 0.7);\n  border-radius: 50%;\n\n  height: ","px;\n  width: ","px;\n"]);return Ga=function(){return e},e}function Ja(){var e=Object(G.a)(["\n  0% {\n    transform: scale(1);\n  }\n\n  55% {\n    background-color: rgba(42, 8, 69, 0.5);\n    transform: scale(1.2);\n  }\n"]);return Ja=function(){return e},e}var qa=Object(J.b)(Ja()),Qa=J.a.span(Ga(),qa,(function(e){return e.color}),(function(e){return e.size}),(function(e){return e.size})),$a=a.a.forwardRef((function(e,t){return a.a.createElement(Qa,Object.assign({size:30,color:"rgba(100, 65, 165, 0.3)",ref:t},e),a.a.createElement(Qa,{size:20,color:"rgba(100, 65, 165, 0.5)"}))})),er={alignSelf:"center",borderRadius:25,boxShadow:"rgba(171, 171, 171, 0.38) 0px 13px 20px 0px",marginBottom:16},tr=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).recenterTourCircuit=function(){var e=i.state.currentStep;i.props.run&&(e<3||(0,i.props.recenterCircuit)())},i.callback=function(e){var t=e.type,n=e.action,a=e.index,r=i.props,o=r.setTourRunning,c=r.loadCircuit,l=r.clearCircuit;t===Na.b.STEP_AFTER&&(2===a&&n===Na.a.NEXT&&c(),3===a&&n===Na.a.PREV&&l(),i.setState({currentStep:a+(n===Na.a.NEXT?1:-1)})),t!==Na.b.TOUR_END&&n!==Na.a.CLOSE||(l(),localStorage.setItem("tour-done",!0),o(!1),i.setState({currentStep:0}))},i.state={currentStep:0,steps:[{title:"Welcome!",content:a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.a.createElement("img",{src:"".concat("https://renato-bohler.github.io/logossim","/social.png"),alt:"logossim's logo",style:{width:300,height:158,alignSelf:"center"}}),a.a.createElement("p",null,"This is ",a.a.createElement("strong",null,"logossim"),": an open source digital logic simulator, built for the web and to be extensible."),a.a.createElement("p",null,"Would you like to take a quick tour?")),target:"body",placement:"center",showProgress:!1,disableOverlayClose:!1,locale:{skip:"No, thanks",next:"Yes, please!"}},{target:"#tour-circuit-area-wrapper",title:"This is the circuit workstation",content:a.a.createElement("p",null,"Here's where you are going to draw your circuits")},{target:"#component-select-button",title:"Adding components",content:a.a.createElement("span",null,a.a.createElement("p",null,"And you'll start by adding some components."),a.a.createElement("p",null,"You can do it by clicking on this button, then you'll see all available components, so you can create awesome circuits..."),a.a.createElement("p",null,a.a.createElement("strong",null,"Hint:")," use the",a.a.createElement(ma,{size:24},"CTRL"),a.a.createElement(ma,{size:24},"A")," shortcut.")),placement:"top"},{target:"#tour-circuit-wrapper",title:"Adding components",content:a.a.createElement("p",null,"... like this one, for example!"),spotlightPadding:30},{target:"#tour-circuit-wrapper",title:"Managing components",content:a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.a.createElement("p",null,"Notice that you can right click anywhere on the canvas to access some handy commands, like duplicate, undo & redo and component configuration editing."),a.a.createElement("img",{src:Ua.a,alt:"Context menu example video",style:Object(v.a)({},er,{width:268,height:132})})),spotlightPadding:30},{target:'[data-linkid="clock-out-link"]',title:"Wiring components",content:a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.a.createElement("p",null,"To wire components together, you can drag a component's port onto another port."),a.a.createElement("img",{src:Xa.a,alt:"Wiring components example video",style:Object(v.a)({},er,{width:268,height:178})}),a.a.createElement("p",null,a.a.createElement("strong",null,"Oh! Important note:")," you can select a wire by clicking it, and delete it using the Delete key.")),placement:"top",spotlightPadding:45},{target:'[data-linkid="not-in-link"]',title:"Wiring components",content:a.a.createElement("span",{style:{display:"flex",flexDirection:"column"}},a.a.createElement("p",null,"You can also drag a new wire from an existing wire."),a.a.createElement("img",{src:Ha.a,alt:"Bifurcating wires example video",style:Object(v.a)({},er,{width:268,height:160})}),a.a.createElement("p",null,a.a.createElement("strong",null,"Another important note:")," you can leave the wire with a loose end and connect it afterwards.")),placement:"top",spotlightPadding:45},{target:"#simulation-control-buttons",title:"Simulation control",content:a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.a.createElement("p",null,"After wiring it all together, you just need to run the simulation to test your ideas!"),a.a.createElement("img",{src:_a.a,alt:"Simulation execution example video",style:Object(v.a)({},er,{width:254,height:194})}),a.a.createElement("p",null,"Useful shortcuts:"),a.a.createElement("ul",{style:{margin:0}},a.a.createElement("li",null,a.a.createElement("strong",null,"Play/pause:"),a.a.createElement(ma,{size:24},"SPACE")),a.a.createElement("li",null,a.a.createElement("strong",null,"Stop:"),a.a.createElement(ma,{size:24},"CTRL"),a.a.createElement(ma,{size:24},"SPACE")))),placement:"top"},{target:"#help-button",title:"Still need help?",content:a.a.createElement("span",null,a.a.createElement("p",null,"In case you need any assistance in the future, come back to this help button. Here you'll find:"),a.a.createElement("ol",{style:{lineHeight:"200%"}},a.a.createElement("li",null,"All keyboard shortcuts"),a.a.createElement("li",null,"More about the project"),a.a.createElement("li",null,"And this tour, if you feel like doing it another time")))},{target:"#save-load-buttons",title:"By the way...",content:a.a.createElement("span",null,a.a.createElement("p",null,"After you've done your amazing circuit, don't forget that you can save it and reload it later!"),a.a.createElement("p",null,"Useful shortcuts:"),a.a.createElement("ul",{style:{margin:0}},a.a.createElement("li",null,a.a.createElement("strong",null,"Save:"),a.a.createElement(ma,{size:24},"CTRL"),a.a.createElement(ma,{size:24},"S")),a.a.createElement("li",null,a.a.createElement("strong",null,"Load:"),a.a.createElement(ma,{size:24},"CTRL"),a.a.createElement(ma,{size:24},"L"))))},{target:"body",title:"And that's all folks!",content:a.a.createElement("div",null,a.a.createElement("p",null,"If you want to know more about the project,"," ",a.a.createElement("a",{href:"https://github.com/renato-bohler/logossim",target:"_blank",rel:"noopener noreferrer"},"check us out on GitHub!")),a.a.createElement(xa.a,{type:"stargazers",namespace:"renato-bohler",repo:"logossim"}),a.a.createElement("p",null,a.a.createElement("strong",null,"You can help us")," make logossim better! If you know a little bit of web development, you can quite easily develop new components to the application.")),placement:"center",showProgress:!1,showSkipButton:!1,disableOverlayClose:!1}]},i}return Object(f.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.recenterTourCircuit)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.recenterTourCircuit)}},{key:"render",value:function(){var e=this.state,t=e.steps,n=e.currentStep,i=this.props.run;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Na.c,{run:i,steps:t,stepIndex:n,continuous:!0,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,disableOverlayClose:!0,styles:{tooltip:{borderRadius:10},tooltipContent:{fontSize:14,textAlign:"left"},buttonBack:{color:"black",fontSize:12},buttonNext:{background:"#6441a5",fontSize:12,borderRadius:5},buttonSkip:{color:"#6441a5",fontSize:12,border:"1px solid #6441a5",borderRadius:5}},locale:{back:"Back",close:"Close",last:"Got it!",next:"Next",open:"Open",skip:"Skip"},beaconComponent:$a,callback:this.callback}),a.a.createElement("div",{style:{display:i?"block":"none",position:"absolute",width:.75*window.innerWidth,height:.5*window.innerHeight,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},id:"tour-circuit-area-wrapper"}),a.a.createElement("div",{style:{display:i?"block":"none",position:"absolute",width:Ya,height:Va,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},id:"tour-circuit-wrapper"}))}}]),n}(i.Component),nr=(n(525),function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).areShortcutsAllowed=function(){var e=i.state,t=e.isComponentSelectOpen,n=e.isComponentEditOpen,a=e.isHelpKeyboardOpen,r=e.isHelpAboutOpen;return!(t||n||a||r)},i.shortcutHandler=function(e){var t=e.ctrlKey,n=e.shiftKey,a=e.code;if(i.areShortcutsAllowed()){if(t&&"KeyA"===a){if(e.preventDefault(),!i.simulation.isStopped())return;i.showAddComponent()}if(t&&"KeyE"===a){if(e.preventDefault(),!i.simulation.isStopped())return;var r=i.diagram.getSelectedNodes();if(1!==r.length)return;var o=r[0];i.showEditComponent(o)}t||"Space"!==a||(e.preventDefault(),i.simulation.isRunning()?i.handleClickPause():i.handleClickStart()),(t&&"Space"===a||"Escape"===a)&&(e.preventDefault(),i.simulation.isStopped()||i.handleClickStop()),t&&!n&&"KeyS"===a&&(e.preventDefault(),i.handleClickSave()),(t&&"KeyL"===a||t&&n&&"KeyS"===a)&&(e.preventDefault(),i.handleClickLoad())}},i.isCircuitEmpty=function(e){return!e||0===Object.keys(e.layers[1].models).length},i.loadHandler=function(){var e=JSON.parse(localStorage.getItem("circuit-autosave"));i.isCircuitEmpty(e)?i.setState({isTourAvailable:!0}):window.confirm("Reload last unsaved circuit?")?i.diagram.load(e):(i.setState({isTourAvailable:!0}),localStorage.removeItem("circuit-autosave"))},i.shouldWarnUnload=function(e,t){return!i.isCircuitEmpty(e)&&JSON.stringify(t.layers)!==JSON.stringify(e.layers)},i.unloadHandler=function(e){var t=JSON.parse(localStorage.getItem("circuit")),n=i.diagram.serialize();i.shouldWarnUnload(n,t)&&(i.simulation.isStopped()&&localStorage.setItem("circuit-autosave",JSON.stringify(n)),e.returnValue="You have unsaved changes. Sure you want to leave?")},i.autoSave=function(){var e=i.diagram.serialize();"tour-circuit"!==e.id&&(i.isCircuitEmpty(e)||i.simulation.isStopped()&&localStorage.setItem("circuit-autosave",JSON.stringify(e)))},i.synchronizeSimulation=function(){var e=i.simulation.getDiff();Object.entries(e.components).forEach((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return i.diagram.synchronizeComponent(n,a)})),Object.entries(e.links).forEach((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return i.diagram.synchronizeLink(n,a)})),i.simulation.clearDiff(),i.diagram.repaint()},i.renderSimulation=function(){i.simulation.isRunning()&&(i.synchronizeSimulation(),requestAnimationFrame(i.renderSimulation))},i.handleClickSave=function(){var e=JSON.stringify(i.diagram.serialize());localStorage.setItem("circuit",e),console.log(JSON.parse(e))},i.handleClickLoad=function(){var e=localStorage.getItem("circuit");e?i.diagram.load(JSON.parse(e)):window.alert("No circuit has been saved yet")},i.handleClickStart=function(){var e=JSON.stringify(i.diagram.serialize());localStorage.setItem("circuit-autosave",e),i.diagram.clearSelection(),i.diagram.setLocked(!0),i.simulation.start(i.diagram.getModel()),i.renderSimulation(),i.forceUpdate()},i.handleClickPause=function(){i.simulation.pause(),i.forceUpdate()},i.handleClickStop=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.simulation.stop();case 2:i.diagram.clearAllValues(),i.diagram.setLocked(!1),i.forceUpdate(),i.simulation.clearDiff();case 6:case"end":return e.stop()}}),e)}))),i.showAddComponent=function(){return i.setState({isComponentSelectOpen:!0})},i.hideAddComponent=function(){return i.setState({isComponentSelectOpen:!1})},i.showEditComponent=function(e){i.diagram.clearSelection(),i.setState({isComponentEditOpen:!0,componentEdit:e})},i.hideEditComponent=function(){return i.setState({isComponentEditOpen:!1,componentEdit:null})},i.setTourRunning=function(e){return i.setState({isTourRunning:e})},i.showHelpTour=function(){return i.setTourRunning(!0)},i.showHelpKeyboard=function(){return i.setState({isHelpKeyboardOpen:!0})},i.hideHelpKeyboard=function(){return i.setState({isHelpKeyboardOpen:!1})},i.showHelpAbout=function(){return i.setState({isHelpAboutOpen:!0})},i.hideHelpAbout=function(){return i.setState({isHelpAboutOpen:!1})},i.handleLoadTourCircuit=function(){i.circuitBeforeTour=i.diagram.serialize(),i.diagram.load(Za),i.handleCenterTourCircuitOffset()},i.handleUnloadTourCircuit=function(){i.circuitBeforeTour&&(i.diagram.load(i.circuitBeforeTour),i.circuitBeforeTour=null)},i.handleCenterTourCircuitOffset=function(){i.diagram.getModel().setOffset((window.innerWidth-Ya)/2,(window.innerHeight-Va)/2),i.diagram.realignGrid(),i.diagram.repaint()},i.state={isComponentSelectOpen:!1,isComponentEditOpen:!1,isHelpKeyboardOpen:!1,isHelpAboutOpen:!1,componentEdit:null,isTourAvailable:!1,isTourRunning:!JSON.parse(localStorage.getItem("tour-done"))},i.diagram=new Se(bn,i.areShortcutsAllowed),i.simulation=new _(bn),i}return Object(f.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.shortcutHandler),window.addEventListener("load",this.loadHandler),window.addEventListener("beforeunload",this.unloadHandler),this.autoSaveInterval=setInterval(this.autoSave,15e3)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.shortcutHandler),window.addEventListener("load",this.loadHandler),window.removeEventListener("beforeunload",this.unloadHandler),clearInterval(this.autoSaveInterval)}},{key:"render",value:function(){var e=this.state,t=e.isComponentSelectOpen,n=e.isComponentEditOpen,i=e.isHelpKeyboardOpen,r=e.isHelpAboutOpen,o=e.componentEdit,c=e.isTourAvailable,l=e.isTourRunning;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Dn,{handleClickSave:this.handleClickSave,handleClickLoad:this.handleClickLoad,handleClickKeyboardShortcuts:this.showHelpKeyboard,handleClickRedoTour:this.showHelpTour,handleClickAbout:this.showHelpAbout,disabled:!this.simulation.isStopped()}),a.a.createElement(ni,{state:this.simulation.getState(),handleClickStart:this.handleClickStart,handleClickPause:this.handleClickPause,handleClickStop:this.handleClickStop}),a.a.createElement(Pn,{handleClick:this.showAddComponent,disabled:!this.simulation.isStopped()}),a.a.createElement(da,{isOpen:t,groups:yn,handleClose:this.hideAddComponent,handleComponentDrop:this.diagram.handleComponentDrop}),a.a.createElement(Wi,{isOpen:n,components:bn,component:o,handleClose:this.hideEditComponent,handleComponentEdit:this.diagram.handleComponentEdit}),a.a.createElement(Aa,{isOpen:i,handleClose:this.hideHelpKeyboard}),a.a.createElement(Ma,{isOpen:r,handleClose:this.hideHelpAbout}),c&&a.a.createElement(tr,{run:l,setTourRunning:this.setTourRunning,loadCircuit:this.handleLoadTourCircuit,clearCircuit:this.handleUnloadTourCircuit,recenterCircuit:this.handleCenterTourCircuitOffset}),a.a.createElement(ne,{engine:this.diagram}),a.a.createElement(ka,{duplicateSelected:this.diagram.duplicateSelected,cutSelected:this.diagram.cutSelected,copySelected:this.diagram.copySelected,pasteSelected:this.diagram.pasteSelected,deleteSelected:this.diagram.deleteSelected,undo:this.diagram.undo,redo:this.diagram.redo,zoomIn:this.diagram.zoomIn,zoomOut:this.diagram.zoomOut,configureComponent:this.showEditComponent}),a.a.createElement(g.a,{id:"tooltip",globalEventOff:"click"}))}}]),n}(i.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(nr,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[278,1,2]]]);
//# sourceMappingURL=main.5553a68c.chunk.js.map